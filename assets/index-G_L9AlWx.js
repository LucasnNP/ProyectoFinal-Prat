(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var td={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function h1(){if(Wy)return Wl;Wy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var t_;function f1(){return t_||(t_=1,td.exports=h1()),td.exports}var H=f1(),ed={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function d1(){if(e_)return vt;e_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,F={};function et(O,$,rt){this.props=O,this.context=$,this.refs=F,this.updater=rt||W}et.prototype.isReactComponent={},et.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},et.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=et.prototype;function st(O,$,rt){this.props=O,this.context=$,this.refs=F,this.updater=rt||W}var Rt=st.prototype=new nt;Rt.constructor=st,tt(Rt,et.prototype),Rt.isPureReactComponent=!0;var wt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,$,rt){var ut=rt.ref;return{$$typeof:r,type:O,key:$,ref:ut!==void 0?ut:null,props:rt}}function M(O,$){return R(O.type,$,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return $[rt]})}var C=/\/+/g;function ie(O,$){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):$.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,$,rt,ut,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(St){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case r:case e:Lt=!0;break;case E:return Lt=O._init,Y(Lt(O._payload),$,rt,ut,yt)}}if(Lt)return yt=yt(O),Lt=ut===""?"."+ie(O,0):ut,wt(yt)?(rt="",Lt!=null&&(rt=Lt.replace(C,"$&/")+"/"),Y(yt,$,rt,"",function(Ha){return Ha})):yt!=null&&(I(yt)&&(yt=M(yt,rt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+Lt)),$.push(yt)),1;Lt=0;var Ve=ut===""?".":ut+":";if(wt(O))for(var ae=0;ae<O.length;ae++)ut=O[ae],St=Ve+ie(ut,ae),Lt+=Y(ut,$,rt,St,yt);else if(ae=P(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(ut=O.next()).done;)ut=ut.value,St=Ve+ie(ut,ae++),Lt+=Y(ut,$,rt,St,yt);else if(St==="object"){if(typeof O.then=="function")return Y(De(O),$,rt,ut,yt);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function at(O,$,rt){if(O==null)return O;var ut=[],yt=0;return Y(O,ut,"","",function(St){return $.call(rt,St,yt++)}),ut}function mt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:at,forEach:function(O,$,rt){at(O,function(){$.apply(this,arguments)},rt)},count:function(O){var $=0;return at(O,function(){$++}),$},toArray:function(O){return at(O,function($){return $})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Gt,vt.Component=et,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=st,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,$,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ut=tt({},O.props),yt=O.key;if($!=null)for(St in $.key!==void 0&&(yt=""+$.key),$)!b.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(ut[St]=$[St]);var St=arguments.length-2;if(St===1)ut.children=rt;else if(1<St){for(var Lt=Array(St),Ve=0;Ve<St;Ve++)Lt[Ve]=arguments[Ve+2];ut.children=Lt}return R(O.type,yt,ut)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,$,rt){var ut,yt={},St=null;if($!=null)for(ut in $.key!==void 0&&(St=""+$.key),$)b.call($,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(yt[ut]=$[ut]);var Lt=arguments.length-2;if(Lt===1)yt.children=rt;else if(1<Lt){for(var Ve=Array(Lt),ae=0;ae<Lt;ae++)Ve[ae]=arguments[ae+2];yt.children=Ve}if(O&&O.defaultProps)for(ut in Lt=O.defaultProps,Lt)yt[ut]===void 0&&(yt[ut]=Lt[ut]);return R(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=I,vt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:mt}},vt.memo=function(O,$){return{$$typeof:p,type:O,compare:$===void 0?null:$}},vt.startTransition=function(O){var $=D.T,rt={};D.T=rt;try{var ut=O(),yt=D.S;yt!==null&&yt(rt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Ct,Bt)}catch(St){Bt(St)}finally{$!==null&&rt.types!==null&&($.types=rt.types),D.T=$}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(O){return D.H.use(O)},vt.useActionState=function(O,$,rt){return D.H.useActionState(O,$,rt)},vt.useCallback=function(O,$){return D.H.useCallback(O,$)},vt.useContext=function(O){return D.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,$){return D.H.useDeferredValue(O,$)},vt.useEffect=function(O,$){return D.H.useEffect(O,$)},vt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(O,$,rt){return D.H.useImperativeHandle(O,$,rt)},vt.useInsertionEffect=function(O,$){return D.H.useInsertionEffect(O,$)},vt.useLayoutEffect=function(O,$){return D.H.useLayoutEffect(O,$)},vt.useMemo=function(O,$){return D.H.useMemo(O,$)},vt.useOptimistic=function(O,$){return D.H.useOptimistic(O,$)},vt.useReducer=function(O,$,rt){return D.H.useReducer(O,$,rt)},vt.useRef=function(O){return D.H.useRef(O)},vt.useState=function(O){return D.H.useState(O)},vt.useSyncExternalStore=function(O,$,rt){return D.H.useSyncExternalStore(O,$,rt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.0",vt}var n_;function Fd(){return n_||(n_=1,ed.exports=d1()),ed.exports}var G=Fd();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i_="popstate";function m1(r={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return Td("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ho(o)}return p1(e,i,null,r)}function le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ti(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function a_(r,e){return{usr:r.state,key:r.key,idx:e}}function Td(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ps(e):e,state:i,key:e&&e.key||s||g1()}}function ho({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ps(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function p1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",_=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let F=E(),et=F==null?null:F-p;p=F,_&&_({action:g,location:tt.location,delta:et})}function V(F,et){g="PUSH";let nt=Td(tt.location,F,et);p=E()+1;let st=a_(nt,p),Rt=tt.createHref(nt);try{d.pushState(st,"",Rt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(Rt)}c&&_&&_({action:g,location:tt.location,delta:1})}function P(F,et){g="REPLACE";let nt=Td(tt.location,F,et);p=E();let st=a_(nt,p),Rt=tt.createHref(nt);d.replaceState(st,"",Rt),c&&_&&_({action:g,location:tt.location,delta:0})}function W(F){return y1(F)}let tt={get action(){return g},get location(){return r(o,d)},listen(F){if(_)throw new Error("A history only accepts one active listener");return o.addEventListener(i_,S),_=F,()=>{o.removeEventListener(i_,S),_=null}},createHref(F){return e(o,F)},createURL:W,encodeLocation(F){let et=W(F);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:V,replace:P,go(F){return d.go(F)}};return tt}function y1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ho(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Cv(r,e,i="/"){return _1(r,e,i,!1)}function _1(r,e,i,s){let o=typeof e=="string"?Ps(e):e,c=Xi(o.pathname||"/",i);if(c==null)return null;let d=wv(r);v1(d);let g=null;for(let _=0;g==null&&_<d.length;++_){let p=I1(c);g=D1(d[_],p,s)}return g}function wv(r,e=[],i=[],s="",o=!1){let c=(d,g,_=o,p)=>{let E={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&_)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Qi([s,E.relativePath]),V=i.concat(E);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),wv(d.children,e,V,S,_)),!(d.path==null&&!d.index)&&e.push({path:S,score:C1(S,d.index),routesMeta:V})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let _ of Dv(d.path))c(d,g,!0,_)}),e}function Dv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Dv(s.join("/")),g=[];return g.push(...d.map(_=>_===""?c:[c,_].join("/"))),o&&g.push(...d),g.map(_=>r.startsWith("/")&&_===""?"/":_)}function v1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:w1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var E1=/^:[\w-]+$/,T1=3,A1=2,S1=1,b1=10,R1=-2,r_=r=>r==="*";function C1(r,e){let i=r.split("/"),s=i.length;return i.some(r_)&&(s+=R1),e&&(s+=A1),i.filter(o=>!r_(o)).reduce((o,c)=>o+(E1.test(c)?T1:c===""?S1:b1),s)}function w1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function D1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let _=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=Tc({path:_.relativePath,caseSensitive:_.caseSensitive,end:p},E),V=_.route;if(!S&&p&&i&&!s[s.length-1].route.index&&(S=Tc({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:Qi([c,S.pathname]),pathnameBase:x1(Qi([c,S.pathnameBase])),route:V}),S.pathnameBase!=="/"&&(c=Qi([c,S.pathnameBase]))}return d}function Tc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=V1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},V)=>{if(E==="*"){let W=g[V]||"";d=c.slice(0,c.length-W.length).replace(/(.)\/+$/,"$1")}const P=g[V];return S&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function V1(r,e=!1,i=!0){Ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,_)=>(s.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function I1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Xi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function N1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ps(r):r;return{pathname:i?i.startsWith("/")?i:O1(i,e):e,search:L1(s),hash:z1(o)}}function O1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function nd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Vv(r){let e=M1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Iv(r,e,i,s=!1){let o;typeof r=="string"?o=Ps(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let V=d.split("/");for(;V[0]==="..";)V.shift(),S-=1;o.pathname=V.join("/")}g=S>=0?e[S]:"/"}let _=N1(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!_.pathname.endsWith("/")&&(p||E)&&(_.pathname+="/"),_}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),x1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,z1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function U1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nv=["POST","PUT","PATCH","DELETE"];new Set(Nv);var B1=["GET",...Nv];new Set(B1);var qs=G.createContext(null);qs.displayName="DataRouter";var Bc=G.createContext(null);Bc.displayName="DataRouterState";G.createContext(!1);var Ov=G.createContext({isTransitioning:!1});Ov.displayName="ViewTransition";var j1=G.createContext(new Map);j1.displayName="Fetchers";var P1=G.createContext(null);P1.displayName="Await";var Si=G.createContext(null);Si.displayName="Navigation";var To=G.createContext(null);To.displayName="Location";var bi=G.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var Qd=G.createContext(null);Qd.displayName="RouteError";function q1(r,{relative:e}={}){le(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(Si),{hash:o,pathname:c,search:d}=So(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Qi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Ao(){return G.useContext(To)!=null}function Cr(){return le(Ao(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(To).location}var Mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(r){G.useContext(Si).static||G.useLayoutEffect(r)}function k1(){let{isDataRoute:r}=G.useContext(bi);return r?eA():H1()}function H1(){le(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(qs),{basename:e,navigator:i}=G.useContext(Si),{matches:s}=G.useContext(bi),{pathname:o}=Cr(),c=JSON.stringify(Vv(s)),d=G.useRef(!1);return xv(()=>{d.current=!0}),G.useCallback((_,p={})=>{if(Ti(d.current,Mv),!d.current)return;if(typeof _=="number"){i.go(_);return}let E=Iv(_,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,r])}G.createContext(null);function Lv(){let{matches:r}=G.useContext(bi),e=r[r.length-1];return e?e.params:{}}function So(r,{relative:e}={}){let{matches:i}=G.useContext(bi),{pathname:s}=Cr(),o=JSON.stringify(Vv(i));return G.useMemo(()=>Iv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function G1(r,e){return zv(r,e)}function zv(r,e,i,s,o){le(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=G.useContext(Si),{matches:d}=G.useContext(bi),g=d[d.length-1],_=g?g.params:{},p=g?g.pathname:"/",E=g?g.pathnameBase:"/",S=g&&g.route;{let nt=S&&S.path||"";Uv(p,!S||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let V=Cr(),P;if(e){let nt=typeof e=="string"?Ps(e):e;le(E==="/"||nt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),P=nt}else P=V;let W=P.pathname||"/",tt=W;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");tt="/"+W.replace(/^\//,"").split("/").slice(nt.length).join("/")}let F=Cv(r,{pathname:tt});Ti(S||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ti(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=X1(F&&F.map(nt=>Object.assign({},nt,{params:Object.assign({},_,nt.params),pathname:Qi([E,c.encodeLocation?c.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:Qi([E,c.encodeLocation?c.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),d,i,s,o);return e&&et?G.createElement(To.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},et):et}function F1(){let r=tA(),e=U1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=G.createElement(G.Fragment,null,G.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var Q1=G.createElement(F1,null),Y1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(bi.Provider,{value:this.props.routeContext},G.createElement(Qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:r,match:e,children:i}){let s=G.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(bi.Provider,{value:r},i)}function X1(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let p=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,_=-1;if(i)for(let p=0;p<c.length;p++){let E=c[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(_=p),E.route.id){let{loaderData:S,errors:V}=i,P=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||P){g=!0,_>=0?c=c.slice(0,_+1):c=[c[0]];break}}}return c.reduceRight((p,E,S)=>{let V,P=!1,W=null,tt=null;i&&(V=d&&E.route.id?d[E.route.id]:void 0,W=E.route.errorElement||Q1,g&&(_<0&&S===0?(Uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,tt=null):_===S&&(P=!0,tt=E.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,S+1)),et=()=>{let nt;return V?nt=W:P?nt=tt:E.route.Component?nt=G.createElement(E.route.Component,null):E.route.element?nt=E.route.element:nt=p,G.createElement(K1,{match:E,routeContext:{outlet:p,matches:F,isDataRoute:i!=null},children:nt})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?G.createElement(Y1,{location:i.location,revalidation:i.revalidation,component:W,error:V,children:et(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):et()},null)}function Yd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(r){let e=G.useContext(qs);return le(e,Yd(r)),e}function Z1(r){let e=G.useContext(Bc);return le(e,Yd(r)),e}function J1(r){let e=G.useContext(bi);return le(e,Yd(r)),e}function Kd(r){let e=J1(r),i=e.matches[e.matches.length-1];return le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function W1(){return Kd("useRouteId")}function tA(){let r=G.useContext(Qd),e=Z1("useRouteError"),i=Kd("useRouteError");return r!==void 0?r:e.errors?.[i]}function eA(){let{router:r}=$1("useNavigate"),e=Kd("useNavigate"),i=G.useRef(!1);return xv(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{Ti(i.current,Mv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var s_={};function Uv(r,e,i){!e&&!s_[r]&&(s_[r]=!0,Ti(!1,i))}G.memo(nA);function nA({routes:r,future:e,state:i,unstable_onError:s}){return zv(r,void 0,i,s,e)}function Fi(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ps(i));let{pathname:_="/",search:p="",hash:E="",state:S=null,key:V="default"}=i,P=G.useMemo(()=>{let W=Xi(_,d);return W==null?null:{location:{pathname:W,search:p,hash:E,state:S,key:V},navigationType:s}},[d,_,p,E,S,V,s]);return Ti(P!=null,`<Router basename="${d}"> is not able to match the URL "${_}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Si.Provider,{value:g},G.createElement(To.Provider,{children:e,value:P}))}function aA({children:r,location:e}){return G1(Ad(r),e)}function Ad(r,e=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,Ad(s.props.children,c));return}le(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Ad(s.props.children,c)),i.push(d)}),i}var dc="get",mc="application/x-www-form-urlencoded";function jc(r){return r!=null&&typeof r.tagName=="string"}function rA(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function sA(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function lA(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function oA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uA(r,e){return r.button===0&&(!e||e==="_self")&&!oA(r)}var rc=null;function cA(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var hA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(r){return r!=null&&!hA.has(r)?(Ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):r}function fA(r,e){let i,s,o,c,d;if(sA(r)){let g=r.getAttribute("action");s=g?Xi(g,e):null,i=r.getAttribute("method")||dc,o=id(r.getAttribute("enctype"))||mc,c=new FormData(r)}else if(rA(r)||lA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=r.getAttribute("formaction")||g.getAttribute("action");if(s=_?Xi(_,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||dc,o=id(r.getAttribute("formenctype"))||id(g.getAttribute("enctype"))||mc,c=new FormData(g,r),!cA()){let{name:p,type:E,value:S}=r;if(E==="image"){let V=p?`${p}.`:"";c.append(`${V}x`,"0"),c.append(`${V}y`,"0")}else p&&c.append(p,S)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=dc,s=null,o=mc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dA(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Xi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function mA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pA(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await mA(c,i);return d.links?d.links():[]}return[]}));return EA(s.flat(1).filter(gA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l_(r,e,i,s,o,c){let d=(_,p)=>i[p]?_.route.id!==i[p].route.id:!0,g=(_,p)=>i[p].pathname!==_.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==_.params["*"];return c==="assets"?e.filter((_,p)=>d(_,p)||g(_,p)):c==="data"?e.filter((_,p)=>{let E=s.routes[_.route.id];if(!E||!E.hasLoader)return!1;if(d(_,p)||g(_,p))return!0;if(_.route.shouldRevalidate){let S=_.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yA(r,e,{includeHydrateFallback:i}={}){return _A(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function _A(r){return[...new Set(r)]}function vA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function EA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(vA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Bv(){let r=G.useContext(qs);return Xd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TA(){let r=G.useContext(Bc);return Xd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $d=G.createContext(void 0);$d.displayName="FrameworkContext";function jv(){let r=G.useContext($d);return Xd(r,"You must render this element inside a <HydratedRouter> element"),r}function AA(r,e){let i=G.useContext($d),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:_,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,V=G.useRef(null);G.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let tt=et=>{et.forEach(nt=>{d(nt.isIntersecting)})},F=new IntersectionObserver(tt,{threshold:.5});return V.current&&F.observe(V.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let tt=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(tt)}}},[s]);let P=()=>{o(!0)},W=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,V,{}]:[c,V,{onFocus:to(g,P),onBlur:to(_,W),onMouseEnter:to(p,P),onMouseLeave:to(E,W),onTouchStart:to(S,P)}]:[!1,V,{}]}function to(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function SA({page:r,...e}){let{router:i}=Bv(),s=G.useMemo(()=>Cv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(RA,{page:r,matches:s,...e}):null}function bA(r){let{manifest:e,routeModules:i}=jv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return pA(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function RA({page:r,matches:e,...i}){let s=Cr(),{manifest:o,routeModules:c}=jv(),{basename:d}=Bv(),{loaderData:g,matches:_}=TA(),p=G.useMemo(()=>l_(r,e,_,o,s,"data"),[r,e,_,o,s]),E=G.useMemo(()=>l_(r,e,_,o,s,"assets"),[r,e,_,o,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let W=new Set,tt=!1;if(e.forEach(et=>{let nt=o.routes[et.route.id];!nt||!nt.hasLoader||(!p.some(st=>st.route.id===et.route.id)&&et.route.id in g&&c[et.route.id]?.shouldRevalidate||nt.hasClientLoader?tt=!0:W.add(et.route.id))}),W.size===0)return[];let F=dA(r,d,"data");return tt&&W.size>0&&F.searchParams.set("_routes",e.filter(et=>W.has(et.route.id)).map(et=>et.route.id).join(",")),[F.pathname+F.search]},[d,g,s,o,p,e,r,c]),V=G.useMemo(()=>yA(E,o),[E,o]),P=bA(E);return G.createElement(G.Fragment,null,S.map(W=>G.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...i})),V.map(W=>G.createElement("link",{key:W,rel:"modulepreload",href:W,...i})),P.map(({key:W,link:tt})=>G.createElement("link",{key:W,nonce:i.nonce,...tt})))}function CA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pv&&(window.__reactRouterVersion="7.9.5")}catch{}function wA({basename:r,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=m1({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(_=>{G.startTransition(()=>d(_))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(iA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var qv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:_,to:p,preventScrollReset:E,viewTransition:S,...V},P){let{basename:W}=G.useContext(Si),tt=typeof p=="string"&&qv.test(p),F,et=!1;if(typeof p=="string"&&tt&&(F=p,Pv))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),I=Xi(M.pathname,W);M.origin===R.origin&&I!=null?p=I+M.search+M.hash:et=!0}catch{Ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=q1(p,{relative:o}),[st,Rt,wt]=AA(s,V),Ct=IA(p,{replace:d,state:g,target:_,preventScrollReset:E,relative:o,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||Ct(R)}let b=G.createElement("a",{...V,...wt,href:F||nt,onClick:et||c?e:D,ref:CA(P,Rt),target:_,"data-discover":!tt&&i==="render"?"true":void 0});return st&&!tt?G.createElement(G.Fragment,null,b,G.createElement(SA,{page:nt})):b});Sr.displayName="Link";var Ds=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:_,...p},E){let S=So(d,{relative:p.relative}),V=Cr(),P=G.useContext(Bc),{navigator:W,basename:tt}=G.useContext(Si),F=P!=null&&LA(S)&&g===!0,et=W.encodeLocation?W.encodeLocation(S).pathname:S.pathname,nt=V.pathname,st=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),st=st?st.toLowerCase():null,et=et.toLowerCase()),st&&tt&&(st=Xi(st,tt)||st);const Rt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let wt=nt===et||!o&&nt.startsWith(et)&&nt.charAt(Rt)==="/",Ct=st!=null&&(st===et||!o&&st.startsWith(et)&&st.charAt(et.length)==="/"),D={isActive:wt,isPending:Ct,isTransitioning:F},b=wt?e:void 0,R;typeof s=="function"?R=s(D):R=[s,wt?"active":null,Ct?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(D):c;return G.createElement(Sr,{...p,"aria-current":b,className:R,ref:E,style:M,to:d,viewTransition:g},typeof _=="function"?_(D):_)});Ds.displayName="NavLink";var DA=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=dc,action:g,onSubmit:_,relative:p,preventScrollReset:E,viewTransition:S,...V},P)=>{let W=MA(),tt=xA(g,{relative:p}),F=d.toLowerCase()==="get"?"get":"post",et=typeof g=="string"&&qv.test(g),nt=st=>{if(_&&_(st),st.defaultPrevented)return;st.preventDefault();let Rt=st.nativeEvent.submitter,wt=Rt?.getAttribute("formmethod")||d;W(Rt||st.currentTarget,{fetcherKey:e,method:wt,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:P,method:F,action:tt,onSubmit:s?_:nt,...V,"data-discover":!et&&r==="render"?"true":void 0})});DA.displayName="Form";function VA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kv(r){let e=G.useContext(qs);return le(e,VA(r)),e}function IA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=k1(),_=Cr(),p=So(r,{relative:c});return G.useCallback(E=>{if(uA(E,e)){E.preventDefault();let S=i!==void 0?i:ho(_)===ho(p);g(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[_,g,p,i,s,e,r,o,c,d])}var NA=0,OA=()=>`__${String(++NA)}__`;function MA(){let{router:r}=kv("useSubmit"),{basename:e}=G.useContext(Si),i=W1();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:_,body:p}=fA(s,e);if(o.navigate===!1){let E=o.fetcherKey||OA();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:_,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function xA(r,{relative:e}={}){let{basename:i}=G.useContext(Si),s=G.useContext(bi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...So(r||".",{relative:e})},d=Cr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),_=g.getAll("index");if(_.some(E=>E==="")){g.delete("index"),_.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Qi([i,c.pathname])),ho(c)}function LA(r,{relative:e}={}){let i=G.useContext(Ov);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kv("useViewTransitionState"),o=So(r,{relative:e});if(!i.isTransitioning)return!1;let c=Xi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Xi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Tc(o.pathname,d)!=null||Tc(o.pathname,c)!=null}var ad={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function zA(){if(o_)return Ye;o_=1;var r=Fd();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(_,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,E)},Ye.flushSync=function(_){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=p,s.p=E,s.d.f()}},Ye.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(_,p))},Ye.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ye.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:P}):E==="script"&&s.d.X(_,{crossOrigin:S,integrity:V,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(_)},Ye.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=g(E,p.crossOrigin);s.d.L(_,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(_,p){if(typeof _=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(_)},Ye.requestFormReset=function(_){s.d.r(_)},Ye.unstable_batchedUpdates=function(_,p){return _(p)},Ye.useFormState=function(_,p,E){return d.H.useFormState(_,p,E)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var u_;function UA(){if(u_)return ad.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ad.exports=zA(),ad.exports}var rd={exports:{}},eo={},sd={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function BA(){return c_||(c_=1,(function(r){function e(Y,at){var mt=Y.length;Y.push(at);t:for(;0<mt;){var Bt=mt-1>>>1,Gt=Y[Bt];if(0<o(Gt,at))Y[Bt]=at,Y[mt]=Gt,mt=Bt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var at=Y[0],mt=Y.pop();if(mt!==at){Y[0]=mt;t:for(var Bt=0,Gt=Y.length,O=Gt>>>1;Bt<O;){var $=2*(Bt+1)-1,rt=Y[$],ut=$+1,yt=Y[ut];if(0>o(rt,mt))ut<Gt&&0>o(yt,rt)?(Y[Bt]=yt,Y[ut]=mt,Bt=ut):(Y[Bt]=rt,Y[$]=mt,Bt=$);else if(ut<Gt&&0>o(yt,mt))Y[Bt]=yt,Y[ut]=mt,Bt=ut;else break t}}return at}function o(Y,at){var mt=Y.sortIndex-at.sortIndex;return mt!==0?mt:Y.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],p=[],E=1,S=null,V=3,P=!1,W=!1,tt=!1,F=!1,et=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Rt(Y){for(var at=i(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=Y)s(p),at.sortIndex=at.expirationTime,e(_,at);else break;at=i(p)}}function wt(Y){if(tt=!1,Rt(Y),!W)if(i(_)!==null)W=!0,Ct||(Ct=!0,L());else{var at=i(p);at!==null&&De(wt,at.startTime-Y)}}var Ct=!1,D=-1,b=5,R=-1;function M(){return F?!0:!(r.unstable_now()-R<b)}function I(){if(F=!1,Ct){var Y=r.unstable_now();R=Y;var at=!0;try{t:{W=!1,tt&&(tt=!1,nt(D),D=-1),P=!0;var mt=V;try{e:{for(Rt(Y),S=i(_);S!==null&&!(S.expirationTime>Y&&M());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,V=S.priorityLevel;var Gt=Bt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Rt(Y),at=!0;break e}S===i(_)&&s(_),Rt(Y)}else s(_);S=i(_)}if(S!==null)at=!0;else{var O=i(p);O!==null&&De(wt,O.startTime-Y),at=!1}}break t}finally{S=null,V=mt,P=!1}at=void 0}}finally{at?L():Ct=!1}}}var L;if(typeof st=="function")L=function(){st(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=I,L=function(){ie.postMessage(null)}}else L=function(){et(I,0)};function De(Y,at){D=et(function(){Y(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(Y){switch(V){case 1:case 2:case 3:var at=3;break;default:at=V}var mt=V;V=at;try{return Y()}finally{V=mt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var mt=V;V=Y;try{return at()}finally{V=mt}},r.unstable_scheduleCallback=function(Y,at,mt){var Bt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,Y){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,Y={id:E++,callback:at,priorityLevel:Y,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>Bt?(Y.sortIndex=mt,e(p,Y),i(_)===null&&Y===i(p)&&(tt?(nt(D),D=-1):tt=!0,De(wt,mt-Bt))):(Y.sortIndex=Gt,e(_,Y),W||P||(W=!0,Ct||(Ct=!0,L()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var at=V;return function(){var mt=V;V=at;try{return Y.apply(this,arguments)}finally{V=mt}}}})(ld)),ld}var h_;function jA(){return h_||(h_=1,sd.exports=BA()),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function PA(){if(f_)return eo;f_=1;var r=jA(),e=Fd(),i=UA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case et:return"Profiler";case F:return"StrictMode";case wt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case st:return t.displayName||"Context";case nt:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var De=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function O(t){return{current:t}}function $(t){0>Gt||(t.current=Bt[Gt],Bt[Gt]=null,Gt--)}function rt(t,n){Gt++,Bt[Gt]=t.current,t.current=n}var ut=O(null),yt=O(null),St=O(null),Lt=O(null);function Ve(t,n){switch(rt(St,n),rt(yt,t),rt(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ay(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ay(n),t=Sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ut),rt(ut,t)}function ae(){$(ut),$(yt),$(St)}function Ha(t){t.memoizedState!==null&&rt(Lt,t);var n=ut.current,a=Sy(n,t.type);n!==a&&(rt(yt,t),rt(ut,a))}function Nr(t){yt.current===t&&($(ut),$(yt)),Lt.current===t&&($(Lt),Xl._currentValue=mt)}var Or,Mr;function Kn(t){if(Or===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Or=n&&n[1]||"",Mr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+t+Mr}var Xs=!1;function Ga(t,n){if(!t||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var j=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){j=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){j=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var w=y.split(`
`),B=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===B.length)for(l=w.length-1,h=B.length-1;1<=l&&0<=h&&w[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==B[h]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function $s(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return Kn("Activity");default:return""}}function Zs(t){try{var n="",a=null;do n+=$s(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,Wi=r.unstable_cancelCallback,eh=r.unstable_shouldYield,Io=r.unstable_requestPaint,Ze=r.unstable_now,Fa=r.unstable_getCurrentPriorityLevel,Js=r.unstable_ImmediatePriority,Ws=r.unstable_UserBlockingPriority,ta=r.unstable_NormalPriority,nh=r.unstable_LowPriority,No=r.unstable_IdlePriority,Oo=r.log,Mo=r.unstable_setDisableYieldValue,xn=null,Be=null;function vn(t){if(typeof Oo=="function"&&Mo(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(xn,t)}catch{}}var he=Math.clz32?Math.clz32:Lo,xo=Math.log,xr=Math.LN2;function Lo(t){return t>>>=0,t===0?32:31-(xo(t)/xr|0)|0}var Xn=256,Qa=262144,ye=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=$n(l):(y&=T,y!==0?h=$n(y):a||(a=T&~t,a!==0&&(h=$n(a))))):(T=l&~f,T!==0?h=$n(T):y!==0?h=$n(y):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ih(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ya(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ah(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-he(a),X=1<<Q;T[Q]=0,w[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var k=j[Q];k!==null&&(k.lane&=-536870913)}a&=~X}l!==0&&Ka(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function tl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function el(t,n){var a=n&-n;return a=(a&42)!==0?1:Xa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Xa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uo(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function zn(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Un=Math.random().toString(36).slice(2),_e="__reactFiber$"+Un,xe="__reactProps$"+Un,Wn="__reactContainer$"+Un,Lr="__reactEvents$"+Un,rh="__reactListeners$"+Un,Bo="__reactHandles$"+Un,jo="__reactResources$"+Un,ti="__reactMarker$"+Un;function zr(t){delete t[_e],delete t[xe],delete t[Lr],delete t[rh],delete t[Bo]}function ei(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Iy(t);t!==null;){if(a=t[_e])return a;t=Iy(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[_e]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ni(t){var n=t[jo];return n||(n=t[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ti]=!0}var nl=new Set,il={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(il[t]=n,t=0;t<n.length;t++)nl.add(n[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},sl={};function Po(t){return pe.call(sl,t)?!0:pe.call(rl,t)?!1:al.test(t)?sl[t]=!0:(rl[t]=!0,!1)}function Ur(t,n,a){if(Po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ea(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ll(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=ea(t)?"checked":"value";t._valueTracker=ll(t,n,""+t[n])}}function $a(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ea(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Za=/[\n"\\]/g;function en(t){return t.replace(Za,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Br(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ol(t,y,Le(n)):a!=null?ol(t,y,Le(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Le(T):t.removeAttribute("name")}function qo(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ft(t)}function ol(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function na(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ko(t,n,a){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Le(a):""}function ia(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Le(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function nn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ho.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ul(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ul(t,f,n[f])}function jr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(t){return aa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var hl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ra=null,si=null;function Ja(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Br(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[xe]||null;if(!h)throw Error(s(90));Br(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&$a(l)}break t;case"textarea":ko(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&na(t,!!a.multiple,n,!1)}}}var qr=!1;function sa(t,n,a){if(qr)return t(n,a);qr=!0;try{var l=t(n);return l}finally{if(qr=!1,(ra!==null||si!==null)&&(Uu(),ra&&(n=ra,t=si,si=ra=null,Ja(n),t)))for(n=0;n<t.length;n++)Ja(t[n])}}function jn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=!1;if(An)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Wa=!1}var li=null,fl=null,tr=null;function dl(){if(tr)return tr;var t,n=fl,a=n.length,l,h="value"in li?li.value:li.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return tr=h.slice(t,1<l?1-l:void 0)}function er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function Pn(){return!1}function je(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:Pn,this.isPropagationStopped=Pn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=je(wi),la=S({},wi,{view:0,detail:0}),ml=je(la),oa,kr,ui,Hr=S({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(oa=t.screenX-ui.screenX,kr=t.screenY-ui.screenY):kr=oa=0,ui=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:kr}}),gl=je(Hr),nr=S({},Hr,{dataTransfer:0}),Fo=je(nr),Qo=S({},la,{relatedTarget:0}),ir=je(Qo),pl=S({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=je(pl),Gr=S({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ko=je(Gr),Xo=S({},wi,{data:0}),ci=je(Xo),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function ua(){return Wo}var Je=S({},la,{key:function(t){if(t.key){var n=$o[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(t){return t.type==="keypress"?er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tu=je(Je),eu=S({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=je(eu),u=S({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),m=je(u),v=S({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),z=S({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(z),it=S({},wi,{newState:0,oldState:0}),Tt=je(it),fe=[9,13,27,32],qt=An&&"CompositionEvent"in window,re=null;An&&"documentMode"in document&&(re=document.documentMode);var Sn=An&&"TextEvent"in window&&!re,hi=An&&(!qt||re&&8<re&&11>=re),qn=" ",kn=!1;function ar(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function L0(t,n){switch(t){case"compositionend":return Fr(n);case"keypress":return n.which!==32?null:(kn=!0,qn);case"textInput":return t=n.data,t===qn&&kn?null:t;default:return null}}function z0(t,n){if(Qr)return t==="compositionend"||!qt&&ar(t,n)?(t=dl(),tr=fl=li=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!U0[t.type]:n==="textarea"}function xm(t,n,a,l){ra?si?si.push(l):si=[l]:ra=l,n=Gu(n,"onChange"),0<n.length&&(a=new oi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var yl=null,_l=null;function B0(t){py(t,0)}function nu(t){var n=cn(t);if($a(n))return t}function Lm(t,n){if(t==="change")return n}var zm=!1;if(An){var sh;if(An){var lh="oninput"in document;if(!lh){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),lh=typeof Um.oninput=="function"}sh=lh}else sh=!1;zm=sh&&(!document.documentMode||9<document.documentMode)}function Bm(){yl&&(yl.detachEvent("onpropertychange",jm),_l=yl=null)}function jm(t){if(t.propertyName==="value"&&nu(_l)){var n=[];xm(n,_l,t,Tn(t)),sa(B0,n)}}function j0(t,n,a){t==="focusin"?(Bm(),yl=n,_l=a,yl.attachEvent("onpropertychange",jm)):t==="focusout"&&Bm()}function P0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(_l)}function q0(t,n){if(t==="click")return nu(n)}function k0(t,n){if(t==="input"||t==="change")return nu(n)}function H0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:H0;function vl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(n,h)||!fn(t[h],n[h]))return!1}return!0}function Pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qm(t,n){var a=Pm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Pm(a)}}function km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function oh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var G0=An&&"documentMode"in document&&11>=document.documentMode,Yr=null,uh=null,El=null,ch=!1;function Gm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ch||Yr==null||Yr!==ri(l)||(l=Yr,"selectionStart"in l&&oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&vl(El,l)||(El=l,l=Gu(uh,"onSelect"),0<l.length&&(n=new oi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Yr)))}function rr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Kr={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},hh={},Fm={};An&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function sr(t){if(hh[t])return hh[t];if(!Kr[t])return t;var n=Kr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fm)return hh[t]=n[a];return t}var Qm=sr("animationend"),Ym=sr("animationiteration"),Km=sr("animationstart"),F0=sr("transitionrun"),Q0=sr("transitionstart"),Y0=sr("transitioncancel"),Xm=sr("transitionend"),$m=new Map,fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fh.push("scrollEnd");function Hn(t,n){$m.set(t,n),ii(n,[t])}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Xr=0,dh=0;function au(){for(var t=Xr,n=dh=Xr=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Zm(a,h,f)}}function ru(t,n,a,l){bn[Xr++]=t,bn[Xr++]=n,bn[Xr++]=a,bn[Xr++]=l,dh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mh(t,n,a,l){return ru(t,n,a,l),su(t)}function lr(t,n){return ru(t,null,null,n),su(t)}function Zm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-he(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function su(t){if(50<kl)throw kl=0,bf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var $r={};function K0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new K0(t,n,a,l)}function gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")gh(t)&&(y=1);else if(typeof t=="string")y=WT(t,a,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=dn(31,a,n,h),t.elementType=R,t.lanes=f,t;case tt:return or(a.children,h,f,n);case F:y=8,h|=24;break;case et:return t=dn(12,a,n,h|2),t.elementType=et,t.lanes=f,t;case wt:return t=dn(13,a,n,h),t.elementType=wt,t.lanes=f,t;case Ct:return t=dn(19,a,n,h),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:y=10;break t;case nt:y=9;break t;case Rt:y=11;break t;case D:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function or(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function ph(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function Wm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function yh(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Zs(n)},tg.set(t,n),n)}return{value:t,source:n,stack:Zs(n)}}var Zr=[],Jr=0,ou=null,Tl=0,Cn=[],wn=0,ca=null,fi=1,di="";function Ii(t,n){Zr[Jr++]=Tl,Zr[Jr++]=ou,ou=t,Tl=n}function eg(t,n,a){Cn[wn++]=fi,Cn[wn++]=di,Cn[wn++]=ca,ca=t;var l=fi;t=di;var h=32-he(l)-1;l&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,fi=1<<32-he(n)+h|a<<h|l,di=f+t}else fi=1<<f|a<<h|l,di=t}function _h(t){t.return!==null&&(Ii(t,1),eg(t,1,0))}function vh(t){for(;t===ou;)ou=Zr[--Jr],Zr[Jr]=null,Tl=Zr[--Jr],Zr[Jr]=null;for(;t===ca;)ca=Cn[--wn],Cn[wn]=null,di=Cn[--wn],Cn[wn]=null,fi=Cn[--wn],Cn[wn]=null}function ng(t,n){Cn[wn++]=fi,Cn[wn++]=di,Cn[wn++]=ca,fi=n.id,di=n.overflow,ca=t}var Pe=null,ee=null,xt=!1,ha=null,Dn=!1,Eh=Error(s(519));function fa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Rn(n,t)),Eh}function ig(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[xe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Vt(Gl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ia(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ey(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||fa(t,!0)}function ag(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Pe=Pe.return}}function Wr(t){if(t!==Pe)return!1;if(!xt)return ag(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jf(t.type,t.memoizedProps)),a=!a),a&&ee&&fa(t),ag(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Vy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Vy(t)}else n===27?(n=ee,Ca(t.type)?(t=Gf,Gf=null,ee=t):ee=n):ee=Pe?In(t.stateNode.nextSibling):null;return!0}function ur(){ee=Pe=null,xt=!1}function Th(){var t=ha;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ha=null),t}function Al(t){ha===null?ha=[t]:ha.push(t)}var Ah=O(null),cr=null,Ni=null;function da(t,n,a){rt(Ah,n._currentValue),n._currentValue=a}function Oi(t){t._currentValue=Ah.current,$(Ah)}function Sh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function bh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Sh(f.return,a,t),l||(y=null);break t}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Sh(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ts(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var T=h.type;fn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Lt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}h=h.return}t!==null&&bh(n,t,a,l),n.flags|=262144}function uu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){cr=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return rg(cr,t)}function cu(t,n){return cr===null&&hr(t),rg(t,n)}function rg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var X0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$0=r.unstable_scheduleCallback,Z0=r.unstable_NormalPriority,Te={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new X0,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&$0(Z0,function(){t.controller.abort()})}var bl=null,Ch=0,es=0,ns=null;function J0(t,n){if(bl===null){var a=bl=[];Ch=0,es=If(),ns={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ch++,n.then(sg,sg),n}function sg(){if(--Ch===0&&bl!==null){ns!==null&&(ns.status="fulfilled");var t=bl;bl=null,es=0,ns=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function W0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lg=Y.S;Y.S=function(t,n){Gp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&J0(t,n),lg!==null&&lg(t,n)};var fr=O(null);function wh(){var t=fr.current;return t!==null?t:Jt.pooledCache}function hu(t,n){n===null?rt(fr,fr.current):rt(fr,n.pool)}function og(){var t=wh();return t===null?null:{parent:Te._currentValue,pool:t}}var is=Error(s(460)),Dh=Error(s(474)),fu=Error(s(542)),du={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t}throw mr=n,is}}function dr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(mr=a,is):a}}var mr=null;function hg(){if(mr===null)throw Error(s(459));var t=mr;return mr=null,t}function fg(t){if(t===is||t===fu)throw Error(s(483))}var as=null,Rl=0;function mu(t){var n=Rl;return Rl+=1,as===null&&(as=[]),cg(as,t,n)}function Cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function gu(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){function n(x,N){if(t){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Vi(x,N),x.index=0,x.sibling=null,x}function f(x,N,U){return x.index=U,t?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,U,K){return N===null||N.tag!==6?(N=ph(U,x.mode,K),N.return=x,N):(N=h(N,U),N.return=x,N)}function w(x,N,U,K){var ft=U.type;return ft===tt?Q(x,N,U.props.children,K,U.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&dr(ft)===N.type)?(N=h(N,U.props),Cl(N,U),N.return=x,N):(N=lu(U.type,U.key,U.props,null,x.mode,K),Cl(N,U),N.return=x,N)}function B(x,N,U,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=yh(U,x.mode,K),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function Q(x,N,U,K,ft){return N===null||N.tag!==7?(N=or(U,x.mode,K,ft),N.return=x,N):(N=h(N,U),N.return=x,N)}function X(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ph(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case P:return U=lu(N.type,N.key,N.props,null,x.mode,U),Cl(U,N),U.return=x,U;case W:return N=yh(N,x.mode,U),N.return=x,N;case b:return N=dr(N),X(x,N,U)}if(De(N)||L(N))return N=or(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return X(x,mu(N),U);if(N.$$typeof===st)return X(x,cu(x,N),U);gu(x,N)}return null}function j(x,N,U,K){var ft=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:T(x,N,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===ft?w(x,N,U,K):null;case W:return U.key===ft?B(x,N,U,K):null;case b:return U=dr(U),j(x,N,U,K)}if(De(U)||L(U))return ft!==null?null:Q(x,N,U,K,null);if(typeof U.then=="function")return j(x,N,mu(U),K);if(U.$$typeof===st)return j(x,N,cu(x,U),K);gu(x,U)}return null}function k(x,N,U,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(U)||null,T(N,x,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return x=x.get(K.key===null?U:K.key)||null,w(N,x,K,ft);case W:return x=x.get(K.key===null?U:K.key)||null,B(N,x,K,ft);case b:return K=dr(K),k(x,N,U,K,ft)}if(De(K)||L(K))return x=x.get(U)||null,Q(N,x,K,ft,null);if(typeof K.then=="function")return k(x,N,U,mu(K),ft);if(K.$$typeof===st)return k(x,N,U,cu(N,K),ft);gu(N,K)}return null}function ct(x,N,U,K){for(var ft=null,jt=null,ht=N,bt=N=0,Nt=null;ht!==null&&bt<U.length;bt++){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var Pt=j(x,ht,U[bt],K);if(Pt===null){ht===null&&(ht=Nt);break}t&&ht&&Pt.alternate===null&&n(x,ht),N=f(Pt,N,bt),jt===null?ft=Pt:jt.sibling=Pt,jt=Pt,ht=Nt}if(bt===U.length)return a(x,ht),xt&&Ii(x,bt),ft;if(ht===null){for(;bt<U.length;bt++)ht=X(x,U[bt],K),ht!==null&&(N=f(ht,N,bt),jt===null?ft=ht:jt.sibling=ht,jt=ht);return xt&&Ii(x,bt),ft}for(ht=l(ht);bt<U.length;bt++)Nt=k(ht,x,bt,U[bt],K),Nt!==null&&(t&&Nt.alternate!==null&&ht.delete(Nt.key===null?bt:Nt.key),N=f(Nt,N,bt),jt===null?ft=Nt:jt.sibling=Nt,jt=Nt);return t&&ht.forEach(function(Na){return n(x,Na)}),xt&&Ii(x,bt),ft}function gt(x,N,U,K){if(U==null)throw Error(s(151));for(var ft=null,jt=null,ht=N,bt=N=0,Nt=null,Pt=U.next();ht!==null&&!Pt.done;bt++,Pt=U.next()){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var Na=j(x,ht,Pt.value,K);if(Na===null){ht===null&&(ht=Nt);break}t&&ht&&Na.alternate===null&&n(x,ht),N=f(Na,N,bt),jt===null?ft=Na:jt.sibling=Na,jt=Na,ht=Nt}if(Pt.done)return a(x,ht),xt&&Ii(x,bt),ft;if(ht===null){for(;!Pt.done;bt++,Pt=U.next())Pt=X(x,Pt.value,K),Pt!==null&&(N=f(Pt,N,bt),jt===null?ft=Pt:jt.sibling=Pt,jt=Pt);return xt&&Ii(x,bt),ft}for(ht=l(ht);!Pt.done;bt++,Pt=U.next())Pt=k(ht,x,bt,Pt.value,K),Pt!==null&&(t&&Pt.alternate!==null&&ht.delete(Pt.key===null?bt:Pt.key),N=f(Pt,N,bt),jt===null?ft=Pt:jt.sibling=Pt,jt=Pt);return t&&ht.forEach(function(c1){return n(x,c1)}),xt&&Ii(x,bt),ft}function Zt(x,N,U,K){if(typeof U=="object"&&U!==null&&U.type===tt&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:t:{for(var ft=U.key;N!==null;){if(N.key===ft){if(ft=U.type,ft===tt){if(N.tag===7){a(x,N.sibling),K=h(N,U.props.children),K.return=x,x=K;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&dr(ft)===N.type){a(x,N.sibling),K=h(N,U.props),Cl(K,U),K.return=x,x=K;break t}a(x,N);break}else n(x,N);N=N.sibling}U.type===tt?(K=or(U.props.children,x.mode,K,U.key),K.return=x,x=K):(K=lu(U.type,U.key,U.props,null,x.mode,K),Cl(K,U),K.return=x,x=K)}return y(x);case W:t:{for(ft=U.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),K=h(N,U.children||[]),K.return=x,x=K;break t}else{a(x,N);break}else n(x,N);N=N.sibling}K=yh(U,x.mode,K),K.return=x,x=K}return y(x);case b:return U=dr(U),Zt(x,N,U,K)}if(De(U))return ct(x,N,U,K);if(L(U)){if(ft=L(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),gt(x,N,U,K)}if(typeof U.then=="function")return Zt(x,N,mu(U),K);if(U.$$typeof===st)return Zt(x,N,cu(x,U),K);gu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),K=h(N,U),K.return=x,x=K):(a(x,N),K=ph(U,x.mode,K),K.return=x,x=K),y(x)):a(x,N)}return function(x,N,U,K){try{Rl=0;var ft=Zt(x,N,U,K);return as=null,ft}catch(ht){if(ht===is||ht===fu)throw ht;var jt=dn(29,ht,null,x.mode);return jt.lanes=K,jt.return=x,jt}finally{}}}var gr=dg(!0),mg=dg(!1),ma=!1;function Vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(t),Zm(t,null,a),n}return ru(t,l,n,a),su(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,tl(t,a)}}function Nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Oh=!1;function Dl(){if(Oh){var t=ns;if(t!==null)throw t}}function Vl(t,n,a,l){Oh=!1;var h=t.updateQueue;ma=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,B=w.next;w.next=null,y===null?f=B:y.next=B,y=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=w))}if(f!==null){var X=h.baseState;y=0,Q=B=w=null,T=f;do{var j=T.lane&-536870913,k=j!==T.lane;if(k?(It&j)===j:(l&j)===j){j!==0&&j===es&&(Oh=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,gt=T;j=n;var Zt=a;switch(gt.tag){case 1:if(ct=gt.payload,typeof ct=="function"){X=ct.call(Zt,X,j);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=gt.payload,j=typeof ct=="function"?ct.call(Zt,X,j):ct,j==null)break t;X=S({},X,j);break t;case 2:ma=!0}}j=T.callback,j!==null&&(t.flags|=64,k&&(t.flags|=8192),k=h.callbacks,k===null?h.callbacks=[j]:k.push(j))}else k={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=k,w=X):Q=Q.next=k,y|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;k=T,T=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);Q===null&&(w=X),h.baseState=w,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ta|=y,t.lanes=y,t.memoizedState=X}}function gg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function pg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var rs=O(null),pu=O(0);function yg(t,n){t=qi,rt(pu,t),rt(rs,n),qi=t|n.baseLanes}function Mh(){rt(pu,qi),rt(rs,rs.current)}function xh(){qi=pu.current,$(rs),$(pu)}var mn=O(null),Vn=null;function ya(t){var n=t.alternate;rt(de,de.current&1),rt(mn,t),Vn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(Vn=t)}function Lh(t){rt(de,de.current),rt(mn,t),Vn===null&&(Vn=t)}function _g(t){t.tag===22?(rt(de,de.current),rt(mn,t),Vn===null&&(Vn=t)):_a()}function _a(){rt(de,de.current),rt(mn,mn.current)}function gn(t){$(mn),Vn===t&&(Vn=null),$(de)}var de=O(0);function yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kf(a)||Hf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mi=0,At=null,Xt=null,Ae=null,_u=!1,ss=!1,pr=!1,vu=0,Il=0,ls=null,tT=0;function ue(){throw Error(s(321))}function zh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function Uh(t,n,a,l,h,f){return Mi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?ep:Jh,pr=!1,f=a(l,h),pr=!1,ss&&(f=Eg(n,a,l,h)),vg(t),f}function vg(t){Y.H=Ml;var n=Xt!==null&&Xt.next!==null;if(Mi=0,Ae=Xt=At=null,_u=!1,Il=0,ls=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&uu(t)&&(Se=!0))}function Eg(t,n,a,l){At=t;var h=0;do{if(ss&&(ls=null),Il=0,ss=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=np,f=n(a,l)}while(ss);return f}function eT(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function Bh(){var t=vu!==0;return vu=0,t}function jh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ph(t){if(_u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_u=!1}Mi=0,Ae=Xt=At=null,ss=!1,Il=vu=0,ls=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=Il;return Il+=1,ls===null&&(ls=[]),t=cg(ls,t,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ep:Jh),t}function Tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===st)return qe(t)}throw Error(s(438,String(t)))}function qh(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Eu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function Au(t){var n=me();return kh(n,Xt,t)}function kh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,w=null,B=n,Q=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(It&X)===X:(Mi&X)===X){var j=B.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===es&&(Q=!0);else if((Mi&j)===j){B=B.next,j===es&&(Q=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=X,y=f):w=w.next=X,At.lanes|=j,Ta|=j;X=B.action,pr&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else j={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=j,y=f):w=w.next=j,At.lanes|=X,Ta|=X;B=B.next}while(B!==null&&B!==n);if(w===null?y=f:w.next=T,!fn(f,t.memoizedState)&&(Se=!0,Q&&(a=ns,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tg(t,n,a){var l=At,h=me(),f=xt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!fn((Xt||h).memoizedState,a);if(y&&(h.memoizedState=a,Se=!0),h=h.queue,Qh(bg.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,os(9,{destroy:void 0},Sg.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(Mi&127)!==0||Ag(l,n,a)}return a}function Ag(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Eu(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,l){n.value=a,n.getSnapshot=l,Rg(n)&&Cg(t)}function bg(t,n,a){return a(function(){Rg(n)&&Cg(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function Cg(t){var n=lr(t,2);n!==null&&on(n,t,2)}function Gh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),pr){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function wg(t,n,a,l){return t.baseState=a,kh(t,Xt,typeof l=="function"?l:xi)}function nT(t,n,a,l,h){if(Ru(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Dg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Dg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,y={};Y.T=y;try{var T=a(h,l),w=Y.S;w!==null&&w(y,T),Vg(t,n,T)}catch(B){Fh(t,n,B)}finally{f!==null&&y.types!==null&&(f.types=y.types),Y.T=f}}else try{f=a(h,l),Vg(t,n,f)}catch(B){Fh(t,n,B)}}function Vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(t,n,l)},function(l){return Fh(t,n,l)}):Ig(t,n,a)}function Ig(t,n,a){n.status="fulfilled",n.value=a,Ng(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Dg(t,a)))}function Fh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==l)}t.action=null}function Ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Mg(t,n){if(xt){var a=Jt.formState;if(a!==null){t:{var l=At;if(xt){if(ee){e:{for(var h=ee,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=In(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=In(h.nextSibling),l=h.data==="F!";break t}}fa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=l,a=Jg.bind(null,At,l),l.dispatch=a,l=Gh(!1),f=Zh.bind(null,At,!1,l.queue),l=We(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=nT.bind(null,At,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function xg(t){var n=me();return Lg(n,Xt,t)}function Lg(t,n,a){if(n=kh(t,n,Og)[0],t=Au(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(y){throw y===is?fu:y}else l=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,os(9,{destroy:void 0},iT.bind(null,h,a),null)),[l,f,t]}function iT(t,n){t.action=n}function zg(t){var n=me(),a=Xt;if(a!==null)return Lg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function os(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Eu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return me().memoizedState}function Su(t,n,a,l){var h=We();At.flags|=t,h.memoizedState=os(1|n,{destroy:void 0},a,l===void 0?null:l)}function bu(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&zh(l,Xt.memoizedState.deps)?h.memoizedState=os(n,f,a,l):(At.flags|=t,h.memoizedState=os(1|n,f,a,l))}function Bg(t,n){Su(8390656,8,t,n)}function Qh(t,n){bu(2048,8,t,n)}function aT(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=Eu(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function jg(t){var n=me().memoizedState;return aT({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return bu(4,2,t,n)}function qg(t,n){return bu(4,4,t,n)}function kg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,a){a=a!=null?a.concat([t]):null,bu(4,4,kg.bind(null,n,t),a)}function Yh(){}function Gg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&zh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Fg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&zh(n,l[1]))return l[0];if(l=t(),pr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function Kh(t,n,a){return a===void 0||(Mi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qp(),At.lanes|=t,Ta|=t,a)}function Qg(t,n,a,l){return fn(a,n)?a:rs.current!==null?(t=Kh(t,a,l),fn(t,n)||(Se=!0),t):(Mi&42)===0||(Mi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=Qp(),At.lanes|=t,Ta|=t,n)}function Yg(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var y=Y.T,T={};Y.T=T,Zh(t,!1,n,a);try{var w=h(),B=Y.S;if(B!==null&&B(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=W0(w,l);Ol(t,n,Q,_n(t))}else Ol(t,n,l,_n(t))}catch(X){Ol(t,n,{then:function(){},status:"rejected",reason:X},_n())}finally{at.p=f,y!==null&&T.types!==null&&(y.types=T.types),Y.T=y}}function rT(){}function Xh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Kg(t).queue;Yg(t,h,n,mt,a===null?rT:function(){return Xg(t),a(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),Ol(t,n.next.queue,{},_n())}function $h(){return qe(Xl)}function $g(){return me().memoizedState}function Zg(){return me().memoizedState}function sT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=ga(a);var l=pa(n,t,a);l!==null&&(on(l,n,a),wl(l,n,a)),n={cache:Rh()},t.payload=n;return}n=n.return}}function lT(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ru(t)?Wg(n,a):(a=mh(t,n,a,l),a!==null&&(on(a,t,l),tp(a,n,l)))}function Jg(t,n,a){var l=_n();Ol(t,n,a,l)}function Ol(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))Wg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,y))return ru(t,n,h,0),Jt===null&&au(),!1}catch{}finally{}if(a=mh(t,n,h,l),a!==null)return on(a,t,l),tp(a,n,l),!0}return!1}function Zh(t,n,a,l){if(l={lane:2,revertLane:If(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(n)throw Error(s(479))}else n=mh(t,a,l,2),n!==null&&on(n,t,2)}function Ru(t){var n=t.alternate;return t===At||n!==null&&n===At}function Wg(t,n){ss=_u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function tp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,tl(t,a)}}var Ml={readContext:qe,use:Tu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Ml.useEffectEvent=ue;var ep={readContext:qe,use:Tu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Bg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Su(4194308,4,kg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Su(4194308,4,t,n)},useInsertionEffect:function(t,n){Su(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(pr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var h=a(n);if(pr){vn(!0);try{a(n)}finally{vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lT.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Gh(t);var n=t.queue,a=Jg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Yh,useDeferredValue:function(t,n){var a=We();return Kh(a,t,n)},useTransition:function(){var t=Gh(!1);return t=Yg.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,h=We();if(xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||Ag(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Bg(bg.bind(null,l,f,t),[t]),l.flags|=2048,os(9,{destroy:void 0},Sg.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Jt.identifierPrefix;if(xt){var a=di,l=fi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=tT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:$h,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Zh.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:qh,useCacheRefresh:function(){return We().memoizedState=sT.bind(null,At)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jh={readContext:qe,use:Tu,useCallback:Gg,useContext:qe,useEffect:Qh,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:qg,useMemo:Fg,useReducer:Au,useRef:Ug,useState:function(){return Au(xi)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=me();return Qg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Au(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:$h,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var a=me();return wg(a,Xt,t,n)},useMemoCache:qh,useCacheRefresh:Zg};Jh.useEffectEvent=jg;var np={readContext:qe,use:Tu,useCallback:Gg,useContext:qe,useEffect:Qh,useImperativeHandle:Hg,useInsertionEffect:Pg,useLayoutEffect:qg,useMemo:Fg,useReducer:Hh,useRef:Ug,useState:function(){return Hh(xi)},useDebugValue:Yh,useDeferredValue:function(t,n){var a=me();return Xt===null?Kh(a,t,n):Qg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Hh(xi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:$h,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=me();return Xt!==null?wg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qh,useCacheRefresh:Zg};np.useEffectEvent=jg;function Wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var tf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ga(l);h.payload=n,a!=null&&(h.callback=a),n=pa(t,h,l),n!==null&&(on(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),h=ga(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=pa(t,h,l),n!==null&&(on(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=ga(a);l.tag=2,n!=null&&(l.callback=n),n=pa(t,l,a),n!==null&&(on(n,t,a),wl(n,t,a))}};function ip(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!vl(a,l)||!vl(h,f):!0}function ap(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&tf.enqueueReplaceState(n,n.state,null)}function yr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function rp(t){iu(t)}function sp(t){console.error(t)}function lp(t){iu(t)}function Cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function op(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,n,a){return a=ga(a),a.tag=3,a.payload={element:null},a.callback=function(){Cu(t,n)},a}function up(t){return t=ga(t),t.tag=3,t}function cp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){op(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){op(n,a,l),typeof h!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function oT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ts(n,a,h,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Bu():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),wf(t,l,h)),!1;case 22:return a.flags|=65536,l===du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),wf(t,l,h)),!1}throw Error(s(435,a.tag))}return wf(t,l,h),Bu(),!1}if(xt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Eh&&(t=Error(s(422),{cause:l}),Al(Rn(t,a)))):(l!==Eh&&(n=Error(s(423),{cause:l}),Al(Rn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=ef(t.stateNode,l,h),Nh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,a),ql===null?ql=[f]:ql.push(f),ce!==4&&(ce=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ef(a.stateNode,l,t),Nh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=up(h),cp(h,t,a,l),Nh(a,h),!1}a=a.return}while(a!==null);return!1}var nf=Error(s(461)),Se=!1;function ke(t,n,a,l){n.child=t===null?mg(n,null,a,l):gr(n,t.child,a,l)}function hp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return hr(n),l=Uh(t,n,a,y,f,h),T=Bh(),t!==null&&!Se?(jh(t,n,h),Li(t,n,h)):(xt&&T&&_h(n),n.flags|=1,ke(t,n,l,h),n.child)}function fp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dp(t,n,f,l,h)):(t=lu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!hf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(y,l)&&t.ref===n.ref)return Li(t,n,h)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function dp(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(vl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,hf(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Li(t,n,h)}return af(t,n,a,l,h)}function mp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return gp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&hu(n,f!==null?f.cachePool:null),f!==null?yg(n,f):Mh(),_g(n);else return l=n.lanes=536870912,gp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(hu(n,f.cachePool),yg(n,f),_a(),n.memoizedState=null):(t!==null&&hu(n,null),Mh(),_a());return ke(t,n,h,a),n.child}function xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gp(t,n,a,l,h){var f=wh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&hu(n,null),Mh(),_g(n),t!==null&&ts(t,n,l,!0),n.childLanes=h,null}function wu(t,n){return n=Vu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function pp(t,n,a){return gr(n,t.child,null,a),t=wu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function uT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(l.mode==="hidden")return t=wu(n,l),n.lanes=536870912,xl(null,t);if(Lh(n),(t=ee)?(t=Dy(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ca!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Wm(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw fa(n);return n.lanes=536870912,null}return wu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Lh(n),h)if(n.flags&256)n.flags&=-257,n=pp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||ts(t,n,a,!1),h=(a&t.childLanes)!==0,Se||h){if(l=Jt,l!==null&&(y=el(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,lr(t,y),on(l,t,y),nf;Bu(),n=pp(t,n,a)}else t=f.treeContext,ee=In(y.nextSibling),Pe=n,xt=!0,ha=null,Dn=!1,t!==null&&ng(n,t),n=wu(n,l),n.flags|=4096;return n}return t=Vi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function af(t,n,a,l,h){return hr(n),a=Uh(t,n,a,l,void 0,h),l=Bh(),t!==null&&!Se?(jh(t,n,h),Li(t,n,h)):(xt&&l&&_h(n),n.flags|=1,ke(t,n,a,h),n.child)}function yp(t,n,a,l,h,f){return hr(n),n.updateQueue=null,a=Eg(n,l,a,h),vg(t),l=Bh(),t!==null&&!Se?(jh(t,n,f),Li(t,n,f)):(xt&&l&&_h(n),n.flags|=1,ke(t,n,a,f),n.child)}function _p(t,n,a,l,h){if(hr(n),n.stateNode===null){var f=$r,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Vh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):$r,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Wh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&tf.enqueueReplaceState(f,f.state,null),Vl(n,l,f,h),Dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=yr(a,T);f.props=w;var B=f.context,Q=a.contextType;y=$r,typeof Q=="object"&&Q!==null&&(y=qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==y)&&ap(n,f,l,y),ma=!1;var j=n.memoizedState;f.state=j,Vl(n,l,f,h),Dl(),B=n.memoizedState,T||j!==B||ma?(typeof X=="function"&&(Wh(n,a,X,l),B=n.memoizedState),(w=ma||ip(n,a,w,l,j,B,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ih(t,n),y=n.memoizedProps,Q=yr(a,y),f.props=Q,X=n.pendingProps,j=f.context,B=a.contextType,w=$r,typeof B=="object"&&B!==null&&(w=qe(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||j!==w)&&ap(n,f,l,w),ma=!1,j=n.memoizedState,f.state=j,Vl(n,l,f,h),Dl();var k=n.memoizedState;y!==X||j!==k||ma||t!==null&&t.dependencies!==null&&uu(t.dependencies)?(typeof T=="function"&&(Wh(n,a,T,l),k=n.memoizedState),(Q=ma||ip(n,a,Q,l,j,k,w)||t!==null&&t.dependencies!==null&&uu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Du(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=gr(n,t.child,null,h),n.child=gr(n,null,a,h)):ke(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Li(t,n,h),t}function vp(t,n,a,l){return ur(),n.flags|=256,ke(t,n,a,l),n.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:og()}}function lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function Ep(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(h?ya(n):_a(),(t=ee)?(t=Dy(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ca!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Wm(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw fa(n);return Hf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(_a(),h=n.mode,T=Vu({mode:"hidden",children:T},h),l=or(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=sf(a),l.childLanes=lf(t,y,a),n.memoizedState=rf,xl(null,l)):(ya(n),of(n,T))}var w=t.memoizedState;if(w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(ya(n),n.flags&=-257,n=uf(t,n,a)):n.memoizedState!==null?(_a(),n.child=t.child,n.flags|=128,n=null):(_a(),T=l.fallback,h=n.mode,l=Vu({mode:"visible",children:l.children},h),T=or(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,gr(n,t.child,null,a),l=n.child,l.memoizedState=sf(a),l.childLanes=lf(t,y,a),n.memoizedState=rf,n=xl(null,l));else if(ya(n),Hf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,Al({value:l,source:null,stack:null}),n=uf(t,n,a)}else if(Se||ts(t,n,a,!1),y=(a&t.childLanes)!==0,Se||y){if(y=Jt,y!==null&&(l=el(y,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,lr(t,l),on(y,t,l),nf;kf(T)||Bu(),n=uf(t,n,a)}else kf(T)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,ee=In(T.nextSibling),Pe=n,xt=!0,ha=null,Dn=!1,t!==null&&ng(n,t),n=of(n,l.children),n.flags|=4096);return n}return h?(_a(),T=l.fallback,h=n.mode,w=t.child,B=w.sibling,l=Vi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?T=Vi(B,T):(T=or(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,xl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=sf(a):(h=T.cachePool,h!==null?(w=Te._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=og(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=lf(t,y,a),n.memoizedState=rf,xl(t.child,l)):(ya(n),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function of(t,n){return n=Vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function uf(t,n,a){return gr(n,t.child,null,a),t=of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Sh(t.return,n,a)}function cf(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ap(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=de.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,rt(de,y),ke(t,n,l,a),l=xt?Tl:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,a,n);else if(t.tag===19)Tp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),cf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cf(n,!0,a,null,f,l);break;case"together":cf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ts(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&uu(t)))}function cT(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),da(n,Te,t.memoizedState.cache),ur();break;case 27:case 5:Ha(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:da(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ya(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ep(t,n,a):(ya(n),t=Li(t,n,a),t!==null?t.sibling:null);ya(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ts(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ap(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(de,de.current),l)break;return null;case 22:return n.lanes=0,mp(t,n,a,n.pendingProps);case 24:da(n,Te,t.memoizedState.cache)}return Li(t,n,a)}function Sp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!hf(t,a)&&(n.flags&128)===0)return Se=!1,cT(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,xt&&(n.flags&1048576)!==0&&eg(n,Tl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=dr(n.elementType),n.type=t,typeof t=="function")gh(t)?(l=yr(t,l),n.tag=1,n=_p(null,n,t,l,a)):(n.tag=0,n=af(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Rt){n.tag=11,n=hp(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=fp(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return af(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=yr(l,n.pendingProps),_p(t,n,l,h,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Ih(t,n),Vl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,da(n,Te,l),l!==f.cache&&bh(n,[Te],a,!0),Dl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vp(t,n,l,a);break t}else if(l!==h){h=Rn(Error(s(424)),n),Al(h),n=vp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ee=In(t.firstChild),Pe=n,xt=!0,ha=null,Dn=!0,a=mg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ur(),l===h){n=Li(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=xy(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,l=Fu(St.current).createElement(a),l[_e]=n,l[xe]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=xy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ha(n),t===null&&xt&&(l=n.stateNode=Ny(n.type,n.pendingProps,St.current),Pe=n,Dn=!0,h=ee,Ca(n.type)?(Gf=h,ee=In(l.firstChild)):ee=h),ke(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((h=l=ee)&&(l=PT(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Pe=n,ee=In(l.firstChild),Dn=!1,h=!0):h=!1),h||fa(n)),Ha(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:y!==null&&jf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Uh(t,n,eT,null,null,a),Xl._currentValue=h),Du(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&xt&&((t=a=ee)&&(a=qT(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Pe=n,ee=null,t=!0):t=!1),t||fa(n)),null;case 13:return Ep(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=gr(n,null,l,a):ke(t,n,l,a),n.child;case 11:return hp(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,da(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,hr(n),h=qe(h),l=l(h),n.flags|=1,ke(t,n,l,a),n.child;case 14:return fp(t,n,n.type,n.pendingProps,a);case 15:return dp(t,n,n.type,n.pendingProps,a);case 19:return Ap(t,n,a);case 31:return uT(t,n,a);case 22:return mp(t,n,a,n.pendingProps);case 24:return hr(n),l=qe(Te),t===null?(h=wh(),h===null&&(h=Jt,f=Rh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Vh(n),da(n,Te,h)):((t.lanes&a)!==0&&(Ih(t,n),Vl(n,null,null,a),Dl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),da(n,Te,l)):(l=f.cache,da(n,Te,l),l!==h.cache&&bh(n,[Te],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(t){t.flags|=4}function ff(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($p())t.flags|=8192;else throw mr=du,Dh}else t.flags&=-16777217}function bp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(n))if($p())t.flags|=8192;else throw mr=du,Dh}function Iu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zo():536870912,t.lanes|=n,fs|=n)}function Ll(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function hT(t,n,a){var l=n.pendingProps;switch(vh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wr(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Th())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(ne(n),bp(n,f)):(ne(n),ff(n,h,null,l,a))):f?f!==t.memoizedState?(zi(n),ne(n),bp(n,f)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),ne(n),ff(n,h,t,l,a)),null;case 27:if(Nr(n),a=St.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ut.current,Wr(n)?ig(n):(t=Ny(h,l,a),n.stateNode=t,zi(n))}return ne(n),null;case 5:if(Nr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(f=ut.current,Wr(n))ig(n);else{var y=Fu(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[_e]=n,f[xe]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ne(n),ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,Wr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,a)),t||fa(n,!0)}else t=Fu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Wr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=Th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Th(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Iu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&xf(n.stateNode.containerInfo),ne(n),null;case 10:return Oi(n.type),ne(n),null;case 19:if($(de),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ll(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=yu(t),f!==null){for(n.flags|=128,Ll(l,!1),t=f.updateQueue,n.updateQueue=t,Iu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Jm(a,t),a=a.sibling;return rt(de,de.current&1|2),xt&&Ii(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Lu&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304)}else{if(!h)if(t=yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Iu(n,t),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!xt)return ne(n),null}else 2*Ze()-l.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,h=!0,Ll(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,rt(de,h?a&1|2:a&1),xt&&Ii(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return gn(n),xh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Iu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&$(fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function fT(t,n){switch(vh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Nr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(de),null;case 4:return ae(),null;case 10:return Oi(n.type),null;case 22:case 23:return gn(n),xh(),t!==null&&$(fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Te),null;case 25:return null;default:return null}}function Rp(t,n){switch(vh(n),n.tag){case 3:Oi(Te),ae();break;case 26:case 27:case 5:Nr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:$(de);break;case 10:Oi(n.type);break;case 22:case 23:gn(n),xh(),t!==null&&$(fr);break;case 24:Oi(Te)}}function zl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function va(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var w=a,B=T;try{B()}catch(Q){Yt(h,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){Yt(n,n.return,Q)}}function Cp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{pg(n,a)}catch(l){Yt(t,t.return,l)}}}function wp(t,n,a){a.props=yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Yt(t,n,h)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function Dp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function df(t,n,a){try{var l=t.stateNode;xT(l,t.type,a,n),l[xe]=n}catch(h){Yt(t,t.return,h)}}function Vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function mf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(l!==4&&(l===27&&Ca(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(gf(t,n,a),t=t.sibling;t!==null;)gf(t,n,a),t=t.sibling}function Nu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ca(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,n,a),t=t.sibling;t!==null;)Nu(t,n,a),t=t.sibling}function Ip(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[_e]=t,n[xe]=a}catch(f){Yt(t,t.return,f)}}var Ui=!1,be=!1,pf=!1,Np=typeof WeakSet=="function"?WeakSet:Set,ze=null;function dT(t,n){if(t=t.containerInfo,Uf=Ju,t=Hm(t),oh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,T=-1,w=-1,B=0,Q=0,X=t,j=null;e:for(;;){for(var k;X!==a||h!==0&&X.nodeType!==3||(T=y+h),X!==f||l!==0&&X.nodeType!==3||(w=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(k=X.firstChild)!==null;)j=X,X=k;for(;;){if(X===t)break e;if(j===a&&++B===h&&(T=y),j===f&&++Q===l&&(w=y),(k=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=k}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},Ju=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=yr(a.type,h);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function Op(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&zl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Yt(a,a.return,y)}else{var h=yr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(a,a.return,y)}}l&64&&Cp(a),l&512&&Ul(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pg(t,n)}catch(y){Yt(a,a.return,y)}}break;case 27:n===null&&l&4&&Ip(a);case 26:case 5:ji(t,a),n===null&&l&4&&Dp(a),l&512&&Ul(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&Lp(t,a);break;case 13:ji(t,a),l&4&&zp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AT.bind(null,a),kT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||be,h=Ui;var f=be;Ui=l,(be=n)&&!f?Pi(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Ui=h,be=f}break;case 30:break;default:ji(t,a)}}function Mp(t){var n=t.alternate;n!==null&&(t.alternate=null,Mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,an=!1;function Bi(t,n,a){for(a=a.child;a!==null;)xp(t,n,a),a=a.sibling}function xp(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:be||mi(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||mi(a,n);var l=se,h=an;Ca(a.type)&&(se=a.stateNode,an=!1),Bi(t,n,a),Ql(a.stateNode),se=l,an=h;break;case 5:be||mi(a,n);case 6:if(l=se,h=an,se=null,Bi(t,n,a),se=l,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:se!==null&&(an?(t=se,Cy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Es(t)):Cy(se,a.stateNode));break;case 4:l=se,h=an,se=a.stateNode.containerInfo,an=!0,Bi(t,n,a),se=l,an=h;break;case 0:case 11:case 14:case 15:va(2,a,n),be||va(4,a,n),Bi(t,n,a);break;case 1:be||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wp(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,Bi(t,n,a),be=l;break;default:Bi(t,n,a)}}function Lp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Es(t)}catch(a){Yt(n,n.return,a)}}}function zp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Es(t)}catch(a){Yt(n,n.return,a)}}function mT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Np),n;default:throw Error(s(435,t.tag))}}function Ou(t,n){var a=mT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=ST.bind(null,t,l);l.then(h,h)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Ca(T.type)){se=T.stateNode,an=!1;break t}break;case 5:se=T.stateNode,an=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(se===null)throw Error(s(160));xp(f,y,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Up(n,t),n=n.sibling}var Gn=null;function Up(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(va(3,t,t.return),zl(3,t),va(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(be||a===null||mi(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(rn(n,t),sn(t),l&512&&(be||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ti]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var y=Uy("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(y=Uy("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=zy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?By(h,t.type,t.stateNode):zy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&df(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(be||a===null||mi(a,a.return)),a!==null&&l&4&&df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(be||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{nn(h,"")}catch(ct){Yt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pf=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){Yt(t,t.return,ct)}}break;case 3:if(Ku=null,h=Gn,Gn=Qu(n.containerInfo),rn(n,t),Gn=h,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(n.containerInfo)}catch(ct){Yt(t,t.return,ct)}pf&&(pf=!1,Bp(t));break;case 4:l=Gn,Gn=Qu(t.stateNode.containerInfo),rn(n,t),sn(t),Gn=l;break;case 12:rn(n,t),sn(t);break;case 31:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Ui,Q=be;if(Ui=B||h,be=Q||w,rn(n,t),be=Q,Ui=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Ui||be||_r(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=w.stateNode;var X=w.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ct){Yt(w,w.return,ct)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ct){Yt(w,w.return,ct)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;h?wy(k,!0):wy(w.stateNode,!1)}catch(ct){Yt(w,w.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ou(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Vp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=mf(t);Nu(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(nn(y,""),a.flags&=-33);var T=mf(t);Nu(t,T,y);break;case 3:case 4:var w=a.stateNode.containerInfo,B=mf(t);gf(t,B,w);break;default:throw Error(s(161))}}catch(Q){Yt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Op(t,n.alternate,n),n=n.sibling}function _r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:va(4,n,n.return),_r(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wp(n,n.return,a),_r(n);break;case 27:Ql(n.stateNode);case 26:case 5:mi(n,n.return),_r(n);break;case 22:n.memoizedState===null&&_r(n);break;case 30:_r(n);break;default:_r(n)}t=t.sibling}}function Pi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(h,f,a),zl(4,f);break;case 1:if(Pi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)gg(w[h],T)}catch(B){Yt(l,l.return,B)}}a&&y&64&&Cp(f),Ul(f,f.return);break;case 27:Ip(f);case 26:case 5:Pi(h,f,a),a&&l===null&&y&4&&Dp(f),Ul(f,f.return);break;case 12:Pi(h,f,a);break;case 31:Pi(h,f,a),a&&y&4&&Lp(h,f);break;case 13:Pi(h,f,a),a&&y&4&&zp(h,f);break;case 22:f.memoizedState===null&&Pi(h,f,a),Ul(f,f.return);break;case 30:break;default:Pi(h,f,a)}n=n.sibling}}function yf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function Fn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jp(t,n,a,l),n=n.sibling}function jp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(t,n,a,l),h&2048&&zl(9,n);break;case 1:Fn(t,n,a,l);break;case 3:Fn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){Fn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Fn(t,n,a,l);break;case 31:Fn(t,n,a,l);break;case 13:Fn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(t,n,a,l):Bl(t,n):f._visibility&2?Fn(t,n,a,l):(f._visibility|=2,us(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&yf(y,n);break;case 24:Fn(t,n,a,l),h&2048&&_f(n.alternate,n);break;default:Fn(t,n,a,l)}}function us(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,w=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:us(f,y,T,w,h),zl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?us(f,y,T,w,h):Bl(f,y):(Q._visibility|=2,us(f,y,T,w,h)),h&&B&2048&&yf(y.alternate,y);break;case 24:us(f,y,T,w,h),h&&B&2048&&_f(y.alternate,y);break;default:us(f,y,T,w,h)}n=n.sibling}}function Bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Bl(a,l),h&2048&&yf(l.alternate,l);break;case 24:Bl(a,l),h&2048&&_f(l.alternate,l);break;default:Bl(a,l)}n=n.sibling}}var jl=8192;function cs(t,n,a){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)Pp(t,n,a),t=t.sibling}function Pp(t,n,a){switch(t.tag){case 26:cs(t,n,a),t.flags&jl&&t.memoizedState!==null&&t1(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:cs(t,n,a);break;case 3:case 4:var l=Gn;Gn=Qu(t.stateNode.containerInfo),cs(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=jl,jl=16777216,cs(t,n,a),jl=l):cs(t,n,a));break;default:cs(t,n,a)}}function qp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Hp(l,t)}qp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&va(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Mu(t)):Pl(t);break;default:Pl(t)}}function Mu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Hp(l,t)}qp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:va(8,n,n.return),Mu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(n));break;default:Mu(n)}t=t.sibling}}function Hp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:va(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var h=l.sibling,f=l.return;if(Mp(l),l===a){ze=null;break t}if(h!==null){h.return=f,ze=h;break t}ze=f}}}var gT={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},pT=typeof WeakMap=="function"?WeakMap:Map,kt=0,Jt=null,Dt=null,It=0,Qt=0,pn=null,Ea=!1,hs=!1,vf=!1,qi=0,ce=0,Ta=0,vr=0,Ef=0,yn=0,fs=0,ql=null,ln=null,Tf=!1,xu=0,Gp=0,Lu=1/0,zu=null,Aa=null,Ne=0,Sa=null,ds=null,ki=0,Af=0,Sf=null,Fp=null,kl=0,bf=null;function _n(){return(kt&2)!==0&&It!==0?It&-It:Y.T!==null?If():Uo()}function Qp(){if(yn===0)if((It&536870912)===0||xt){var t=Qa;Qa<<=1,(Qa&3932160)===0&&(Qa=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function on(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ms(t,0),ba(t,It,yn,!1)),Ya(t,a),((kt&2)===0||t!==Jt)&&(t===Jt&&((kt&2)===0&&(vr|=a),ce===4&&ba(t,It,yn,!1)),gi(t))}function Yp(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),h=l?vT(t,n):Cf(t,n,!0),f=l;do{if(h===0){hs&&!l&&ba(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!yT(a)){h=Cf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;h=ql;var w=T.current.memoizedState.isDehydrated;if(w&&(ms(T,y).flags|=256),y=Cf(T,y,!1),y!==2){if(vf&&!w){T.errorRecoveryDisabledLanes|=f,vr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ms(t,0),ba(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ba(l,n,yn,!Ea);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=xu+300-Ze(),10<h)){if(ba(l,n,yn,!Ea),Zn(l,0,!0)!==0)break t;ki=n,l.timeoutHandle=by(Kp.bind(null,l,a,ln,zu,Tf,n,yn,vr,fs,Ea,f,"Throttled",-0,0),h);break t}Kp(l,a,ln,zu,Tf,n,yn,vr,fs,Ea,f,null,-0,0)}}break}while(!0);gi(t)}function Kp(t,n,a,l,h,f,y,T,w,B,Q,X,j,k){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Pp(n,f,X);var ct=(f&62914560)===f?xu-Ze():(f&4194048)===f?Gp-Ze():0;if(ct=e1(X,ct),ct!==null){ki=f,t.cancelPendingCommit=ct(ny.bind(null,t,n,f,a,l,h,y,T,w,Q,X,null,j,k)),ba(t,f,y,!B);return}}ny(t,n,f,a,l,h,y,T,w)}function yT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ba(t,n,a,l){n&=~Ef,n&=~vr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-he(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&Ka(t,a,n)}function Uu(){return(kt&6)===0?(Hl(0),!1):!0}function Rf(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Ni=cr=null,Ph(t),as=null,Rl=0,t=Dt;for(;t!==null;)Rp(t.alternate,t),t=t.return;Dt=null}}function ms(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ki=0,Rf(),Jt=t,Dt=a=Vi(t.current,null),It=n,Qt=0,pn=null,Ea=!1,hs=Ln(t,n),vf=!1,fs=yn=Ef=vr=Ta=ce=0,ln=ql=null,Tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=t[h],l&=~f}return qi=n,au(),a}function Xp(t,n){At=null,Y.H=Ml,n===is||n===fu?(n=hg(),Qt=3):n===Dh?(n=hg(),Qt=4):Qt=n===nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Dt===null&&(ce=1,Cu(t,Rn(n,t.current)))}function $p(){var t=mn.current;return t===null?!0:(It&4194048)===It?Vn===null:(It&62914560)===It||(It&536870912)!==0?t===Vn:!1}function Zp(){var t=Y.H;return Y.H=Ml,t===null?Ml:t}function Jp(){var t=Y.A;return Y.A=gT,t}function Bu(){ce=4,Ea||(It&4194048)!==It&&mn.current!==null||(hs=!0),(Ta&134217727)===0&&(vr&134217727)===0||Jt===null||ba(Jt,It,yn,!1)}function Cf(t,n,a){var l=kt;kt|=2;var h=Zp(),f=Jp();(Jt!==t||It!==n)&&(zu=null,ms(t,n)),n=!1;var y=ce;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,w=pn;switch(Qt){case 8:Rf(),y=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var B=Qt;if(Qt=0,pn=null,gs(t,T,w,B),a&&hs){y=0;break t}break;default:B=Qt,Qt=0,pn=null,gs(t,T,w,B)}}_T(),y=ce;break}catch(Q){Xp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ni=cr=null,kt=l,Y.H=h,Y.A=f,Dt===null&&(Jt=null,It=0,au()),y}function _T(){for(;Dt!==null;)Wp(Dt)}function vT(t,n){var a=kt;kt|=2;var l=Zp(),h=Jp();Jt!==t||It!==n?(zu=null,Lu=Ze()+500,ms(t,n)):hs=Ln(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=pn;e:switch(Qt){case 1:Qt=0,pn=null,gs(t,n,f,1);break;case 2:case 9:if(ug(f)){Qt=0,pn=null,ty(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),gi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ug(f)?(Qt=0,pn=null,ty(n)):(Qt=0,pn=null,gs(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var T=Dt;if(y?jy(y):T.stateNode.complete){Qt=0,pn=null;var w=T.sibling;if(w!==null)Dt=w;else{var B=T.return;B!==null?(Dt=B,ju(B)):Dt=null}break e}}Qt=0,pn=null,gs(t,n,f,5);break;case 6:Qt=0,pn=null,gs(t,n,f,6);break;case 8:Rf(),ce=6;break t;default:throw Error(s(462))}}ET();break}catch(Q){Xp(t,Q)}while(!0);return Ni=cr=null,Y.H=l,Y.A=h,kt=a,Dt!==null?0:(Jt=null,It=0,au(),ce)}function ET(){for(;Dt!==null&&!eh();)Wp(Dt)}function Wp(t){var n=Sp(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?ju(t):Dt=n}function ty(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=yp(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=yp(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Ph(n);default:Rp(a,n),n=Dt=Jm(n,qi),n=Sp(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?ju(t):Dt=n}function gs(t,n,a,l){Ni=cr=null,Ph(n),as=null,Rl=0;var h=n.return;try{if(oT(t,h,n,a,It)){ce=1,Cu(t,Rn(a,t.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Cu(t,Rn(a,t.current)),Dt=null;return}n.flags&32768?(xt||l===1?t=!0:hs||(It&536870912)!==0?t=!1:(Ea=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(n,t)):ju(n)}function ju(t){var n=t;do{if((n.flags&32768)!==0){ey(n,Ea);return}t=n.return;var a=hT(n.alternate,n,qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function ey(t,n){do{var a=fT(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function ny(t,n,a,l,h,f,y,T,w){t.cancelPendingCommit=null;do Pu();while(Ne!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=dh,ah(t,a,f,y,T,w),t===Jt&&(Dt=Jt=null,It=0),ds=n,Sa=t,ki=a,Af=f,Sf=h,Fp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bT(ta,function(){return ly(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=at.p,at.p=2,y=kt,kt|=4;try{dT(t,n,a)}finally{kt=y,at.p=h,Y.T=l}}Ne=1,iy(),ay(),ry()}}function iy(){if(Ne===1){Ne=0;var t=Sa,n=ds,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var h=kt;kt|=4;try{Up(n,t);var f=Bf,y=Hm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&km(T.ownerDocument.documentElement,T)){if(w!==null&&oh(T)){var B=w.start,Q=w.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var k=j.getSelection(),ct=T.textContent.length,gt=Math.min(w.start,ct),Zt=w.end===void 0?gt:Math.min(w.end,ct);!k.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var x=qm(T,gt),N=qm(T,Zt);if(x&&N&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var U=X.createRange();U.setStart(x.node,x.offset),k.removeAllRanges(),gt>Zt?(k.addRange(U),k.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),k.addRange(U))}}}}for(X=[],k=T;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ju=!!Uf,Bf=Uf=null}finally{kt=h,at.p=l,Y.T=a}}t.current=n,Ne=2}}function ay(){if(Ne===2){Ne=0;var t=Sa,n=ds,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var h=kt;kt|=4;try{Op(t,n.alternate,n)}finally{kt=h,at.p=l,Y.T=a}}Ne=3}}function ry(){if(Ne===4||Ne===3){Ne=0,Io();var t=Sa,n=ds,a=ki,l=Fp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ds=Sa=null,sy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Aa=null),Ri(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=at.p,at.p=2,Y.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,at.p=h}}(ki&3)!==0&&Pu(),gi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===bf?kl++:(kl=0,bf=t):kl=0,Hl(0)}}function sy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function Pu(){return iy(),ay(),ry(),ly()}function ly(){if(Ne!==5)return!1;var t=Sa,n=Af;Af=0;var a=Ri(ki),l=Y.T,h=at.p;try{at.p=32>a?32:a,Y.T=null,a=Sf,Sf=null;var f=Sa,y=ki;if(Ne=0,ds=Sa=null,ki=0,(kt&6)!==0)throw Error(s(331));var T=kt;if(kt|=4,kp(f.current),jp(f,f.current,y,a),kt=T,Hl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{at.p=h,Y.T=l,sy(t,n)}}function oy(t,n,a){n=Rn(a,n),n=ef(t.stateNode,n,2),t=pa(t,n,2),t!==null&&(Ya(t,2),gi(t))}function Yt(t,n,a){if(t.tag===3)oy(t,t,a);else for(;n!==null;){if(n.tag===3){oy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){t=Rn(a,t),a=up(2),l=pa(n,a,2),l!==null&&(cp(a,l,n,t),Ya(l,2),gi(l));break}}n=n.return}}function wf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(vf=!0,h.add(a),t=TT.bind(null,t,n,a),n.then(t,t))}function TT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Ze()-xu?(kt&2)===0&&ms(t,0):Ef|=a,fs===It&&(fs=0)),gi(t)}function uy(t,n){n===0&&(n=zo()),t=lr(t,n),t!==null&&(Ya(t,n),gi(t))}function AT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),uy(t,a)}function ST(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),uy(t,a)}function bT(t,n){return Ie(t,n)}var qu=null,ps=null,Df=!1,ku=!1,Vf=!1,Ra=0;function gi(t){t!==ps&&t.next===null&&(ps===null?qu=ps=t:ps=ps.next=t),ku=!0,Df||(Df=!0,CT())}function Hl(t,n){if(!Vf&&ku){Vf=!0;do for(var a=!1,l=qu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,dy(l,f))}else f=It,f=Zn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(a=!0,dy(l,f));l=l.next}while(a);Vf=!1}}function RT(){cy()}function cy(){ku=Df=!1;var t=0;Ra!==0&&zT()&&(t=Ra);for(var n=Ze(),a=null,l=qu;l!==null;){var h=l.next,f=hy(l,n);f===0?(l.next=null,a===null?qu=h:a.next=h,h===null&&(ps=a)):(a=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=h}Ne!==0&&Ne!==5||Hl(t),Ra!==0&&(Ra=0)}function hy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-he(f),T=1<<y,w=h[y];w===-1?((T&a)===0||(T&l)!==0)&&(h[y]=ih(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,a=It,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Wi(l),Ri(a)){case 2:case 8:a=Ws;break;case 32:a=ta;break;case 268435456:a=No;break;default:a=ta}return l=fy.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Wi(l),t.callbackPriority=2,t.callbackNode=null,2}function fy(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=It;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yp(t,l,n),hy(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?fy.bind(null,t):null)}function dy(t,n){if(Pu())return null;Yp(t,n,!0)}function CT(){BT(function(){(kt&6)!==0?Ie(Js,RT):cy()})}function If(){if(Ra===0){var t=es;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),Ra=t}return Ra}function my(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pr(""+t)}function gy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function wT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=my((h[xe]||null).action),y=l.submitter;y&&(n=(n=y[xe]||null)?my(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new oi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var w=y?gy(h,y):new FormData(h);Xh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=y?gy(h,y):new FormData(h),Xh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Nf=0;Nf<fh.length;Nf++){var Of=fh[Nf],DT=Of.toLowerCase(),VT=Of[0].toUpperCase()+Of.slice(1);Hn(DT,"on"+VT)}Hn(Qm,"onAnimationEnd"),Hn(Ym,"onAnimationIteration"),Hn(Km,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(F0,"onTransitionRun"),Hn(Q0,"onTransitionStart"),Hn(Y0,"onTransitionCancel"),Hn(Xm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function py(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],w=T.instance,B=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Q){iu(Q)}h.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(T=l[y],w=T.instance,B=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(Q){iu(Q)}h.currentTarget=null,f=w}}}}function Vt(t,n){var a=n[Lr];a===void 0&&(a=n[Lr]=new Set);var l=t+"__bubble";a.has(l)||(yy(n,t,2,!1),a.add(l))}function Mf(t,n,a){var l=0;n&&(l|=4),yy(a,t,l,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[Hu]){t[Hu]=!0,nl.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||Mf(a,!1,t),Mf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,Mf("selectionchange",!1,n))}}function yy(t,n,a,l){switch(Qy(n)){case 2:var h=a1;break;case 8:h=r1;break;default:h=Xf}a=h.bind(null,n,a,t),h=void 0,!Wa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Lf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=ei(T),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}T=T.parentNode}}l=l.return}sa(function(){var B=f,Q=Tn(a),X=[];t:{var j=$m.get(t);if(j!==void 0){var k=oi,ct=t;switch(t){case"keypress":if(er(a)===0)break t;case"keydown":case"keyup":k=tu;break;case"focusin":ct="focus",k=ir;break;case"focusout":ct="blur",k=ir;break;case"beforeblur":case"afterblur":k=ir;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case Qm:case Ym:case Km:k=Yo;break;case Xm:k=A;break;case"scroll":case"scrollend":k=ml;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Di;break;case"toggle":case"beforetoggle":k=Tt}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=B,U;N!==null;){var K=N;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||x===null||(K=jn(N,x),K!=null&&gt.push(Fl(N,K,U))),Zt)break;N=N.return}0<gt.length&&(j=new k(j,ct,null,a,Q),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",j&&a!==hl&&(ct=a.relatedTarget||a.fromElement)&&(ei(ct)||ct[Wn]))break t;if((k||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,k?(ct=a.relatedTarget||a.toElement,k=B,ct=ct?ei(ct):null,ct!==null&&(Zt=c(ct),gt=ct.tag,ct!==Zt||gt!==5&&gt!==27&&gt!==6)&&(ct=null)):(k=null,ct=B),k!==ct)){if(gt=gl,K="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Di,K="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=k==null?j:cn(k),U=ct==null?j:cn(ct),j=new gt(K,N+"leave",k,a,Q),j.target=Zt,j.relatedTarget=U,K=null,ei(Q)===B&&(gt=new gt(x,N+"enter",ct,a,Q),gt.target=U,gt.relatedTarget=Zt,K=gt),Zt=K,k&&ct)e:{for(gt=NT,x=k,N=ct,U=0,K=x;K;K=gt(K))U++;K=0;for(var ft=N;ft;ft=gt(ft))K++;for(;0<U-K;)x=gt(x),U--;for(;0<K-U;)N=gt(N),K--;for(;U--;){if(x===N||N!==null&&x===N.alternate){gt=x;break e}x=gt(x),N=gt(N)}gt=null}else gt=null;k!==null&&_y(X,j,k,gt,!1),ct!==null&&Zt!==null&&_y(X,Zt,ct,gt,!0)}}t:{if(j=B?cn(B):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var jt=Lm;else if(Mm(j))if(zm)jt=k0;else{jt=P0;var ht=j0}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&jr(B.elementType)&&(jt=Lm):jt=q0;if(jt&&(jt=jt(t,B))){xm(X,jt,a,Q);break t}ht&&ht(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&ol(j,"number",j.value)}switch(ht=B?cn(B):window,t){case"focusin":(Mm(ht)||ht.contentEditable==="true")&&(Yr=ht,uh=B,El=null);break;case"focusout":El=uh=Yr=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,Gm(X,a,Q);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":Gm(X,a,Q)}var bt;if(qt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Qr?ar(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(hi&&a.locale!=="ko"&&(Qr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Qr&&(bt=dl()):(li=Q,fl="value"in li?li.value:li.textContent,Qr=!0)),ht=Gu(B,Nt),0<ht.length&&(Nt=new ci(Nt,t,null,a,Q),X.push({event:Nt,listeners:ht}),bt?Nt.data=bt:(bt=Fr(a),bt!==null&&(Nt.data=bt)))),(bt=Sn?L0(t,a):z0(t,a))&&(Nt=Gu(B,"onBeforeInput"),0<Nt.length&&(ht=new ci("onBeforeInput","beforeinput",null,a,Q),X.push({event:ht,listeners:Nt}),ht.data=bt)),wT(X,t,B,a,Q)}py(X,n)})}function Fl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Gu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(t,a),h!=null&&l.unshift(Fl(t,h,f)),h=jn(t,n),h!=null&&l.push(Fl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function NT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,w=T.alternate,B=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||B===null||(w=B,h?(B=jn(a,f),B!=null&&y.unshift(Fl(a,B,w))):h||(B=jn(a,f),B!=null&&y.push(Fl(a,B,w)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function vy(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(MT,"")}function Ey(t,n){return n=vy(n),vy(t)===n}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":cl(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Ur(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Go.get(a)||a,Ur(t,a,l))}}function zf(t,n,a,l,h,f){switch(a){case"style":cl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?nn(t,l):(typeof l=="number"||typeof l=="bigint")&&nn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ur(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,y,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var T=f=y=h=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":w=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:$t(t,n,l,Q,a,null)}}qo(t,f,T,w,B,y,h,!1);return;case"select":Vt("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:$t(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?na(t,!!l,n,!1):a!=null&&na(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(t,n,y,T,a,null)}ia(t,l,h,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,w,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Vt(Gl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,B,l,a,null)}return;default:if(jr(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&zf(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(t,n,T,l,a,null))}function xT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,w=null,B=null,Q=null;for(k in a){var X=a[k];if(a.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(k)||$t(t,n,k,null,l,X)}}for(var j in l){var k=l[j];if(X=a[j],l.hasOwnProperty(j)&&(k!=null||X!=null))switch(j){case"type":f=k;break;case"name":h=k;break;case"checked":B=k;break;case"defaultChecked":Q=k;break;case"value":y=k;break;case"defaultValue":T=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==X&&$t(t,n,j,k,l,X)}}Br(t,y,T,w,B,Q,f,h);return;case"select":k=y=T=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==w&&$t(t,n,h,f,l,w)}n=T,a=y,l=k,j!=null?na(t,!!a,j,!1):!!l!=!!a&&(n!=null?na(t,!!a,n,!0):na(t,!!a,a?[]:"",!1));return;case"textarea":k=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,y,h,l,f)}ko(t,j,k);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,j)}for(w in l)if(j=l[w],k=a[w],l.hasOwnProperty(w)&&j!==k&&(j!=null||k!=null))switch(w){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(t,n,w,j,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&$t(t,n,gt,null,l,j);for(B in l)if(j=l[B],k=a[B],l.hasOwnProperty(B)&&j!==k&&(j!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(t,n,B,j,l,k)}return;default:if(jr(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&zf(t,n,Zt,void 0,l,j);for(Q in l)j=l[Q],k=a[Q],!l.hasOwnProperty(Q)||j===k||j===void 0&&k===void 0||zf(t,n,Q,j,l,k);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&$t(t,n,x,null,l,j);for(X in l)j=l[X],k=a[X],!l.hasOwnProperty(X)||j===k||j==null&&k==null||$t(t,n,X,j,l,k)}function Ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&Ty(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>T)break;var Q=w.transferSize,X=w.initiatorType;Q&&Ty(X)&&(w=w.responseEnd,y+=Q*(w<T?1:(T-B)/(w-B)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Uf=null,Bf=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function zT(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(t){return Ry.resolve(null).then(t).catch(jT)}:by;function jT(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function Cy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Es(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ql(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&Ql(t.ownerDocument.body);a=h}while(a);Es(n)}function wy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qf(a),zr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=In(t.nextSibling),t===null)break}return null}function qT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=In(t.nextSibling),t===null))return null;return t}function Dy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=In(t.nextSibling),t===null))return null;return t}function kf(t){return t.data==="$?"||t.data==="$~"}function Hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function In(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Gf=null;function Vy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return In(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Iy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Ny(t,n,a){switch(n=Fu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ql(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zr(t)}var Nn=new Map,Oy=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=at.d;at.d={f:HT,r:GT,D:FT,C:QT,L:YT,m:KT,X:$T,S:XT,M:ZT};function HT(){var t=Hi.f(),n=Uu();return t||n}function GT(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):Hi.r(t)}var ys=typeof document>"u"?null:document;function My(t,n,a){var l=ys;if(l&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Oy.has(h)||(Oy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function FT(t){Hi.D(t),My("dns-prefetch",t,null)}function QT(t,n){Hi.C(t,n),My("preconnect",t,n)}function YT(t,n,a){Hi.L(t,n,a);var l=ys;if(l&&t&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(t)+'"]';var f=h;switch(n){case"style":f=_s(t);break;case"script":f=vs(t)}Nn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Nn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Yl(f))||n==="script"&&l.querySelector(Kl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function KT(t,n){Hi.m(t,n);var a=ys;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vs(t)}if(!Nn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Nn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function XT(t,n,a){Hi.S(t,n,a);var l=ys;if(l&&t){var h=ni(l).hoistableStyles,f=_s(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(Yl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Nn.get(f))&&Ff(t,a);var w=y=l.createElement("link");ve(w),He(w,"link",t),w._p=new Promise(function(B,Q){w.onload=B,w.onerror=Q}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function $T(t,n){Hi.X(t,n);var a=ys;if(a&&t){var l=ni(a).hoistableScripts,h=vs(t),f=l.get(h);f||(f=a.querySelector(Kl(h)),f||(t=S({src:t,async:!0},n),(n=Nn.get(h))&&Qf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ZT(t,n){Hi.M(t,n);var a=ys;if(a&&t){var l=ni(a).hoistableScripts,h=vs(t),f=l.get(h);f||(f=a.querySelector(Kl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Nn.get(h))&&Qf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xy(t,n,a,l){var h=(h=St.current)?Qu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_s(a.href),a=ni(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_s(a.href);var f=ni(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Yl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),f||JT(h,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vs(a),a=ni(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _s(t){return'href="'+en(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function vs(t){return'[src="'+en(t)+'"]'}function Kl(t){return"script[async]"+t}function zy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",h),Yu(l,a.precedence,t),n.instance=l;case"stylesheet":h=_s(a.href);var f=t.querySelector(Yl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=Ly(a),(h=Nn.get(h))&&Ff(l,h),f=(t.ownerDocument||t).createElement("link"),ve(f);var y=f;return y._p=new Promise(function(T,w){y.onload=T,y.onerror=w}),He(f,"link",l),n.state.loading|=4,Yu(f,a.precedence,t),n.instance=f;case"script":return f=vs(a.src),(h=t.querySelector(Kl(f)))?(n.instance=h,ve(h),h):(l=a,(h=Nn.get(f))&&(l=S({},a),Qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ve(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Yu(l,a.precedence,t));return n.instance}function Yu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ff(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ku=null;function Uy(t,n,a){if(Ku===null){var l=new Map,h=Ku=new Map;h.set(a,l)}else h=Ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ti]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function By(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function t1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=_s(l.href),f=n.querySelector(Yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Xu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=Ly(l),(h=Nn.get(h))&&Ff(l,h),f=f.createElement("link"),ve(f);var y=f;y._p=new Promise(function(T,w){y.onload=T,y.onerror=w}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Yf=0;function e1(t,n){return t.stylesheets&&t.count===0&&Zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Yf===0&&(Yf=62500*LT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Yf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function Zu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,n.forEach(n1,t),$u=null,Xu.call(t))}function n1(t,n){if(!(n.state.loading&4)){var a=$u.get(t);if(a)var l=a.get(null);else{a=new Map,$u.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=Xu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Xl={$$typeof:st,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function i1(t,n,a,l,h,f,y,T,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Py(t,n,a,l,h,f,y,T,w,B,Q,X){return t=new i1(t,n,a,y,w,B,Q,X,T),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=Rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Vh(f),t}function qy(t){return t?(t=$r,t):$r}function ky(t,n,a,l,h,f){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=ga(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=pa(t,l,n),a!==null&&(on(a,t,n),wl(a,t,n))}function Hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Kf(t,n){Hy(t,n),(t=t.alternate)&&Hy(t,n)}function Gy(t){if(t.tag===13||t.tag===31){var n=lr(t,67108864);n!==null&&on(n,t,67108864),Kf(t,67108864)}}function Fy(t){if(t.tag===13||t.tag===31){var n=_n();n=Xa(n);var a=lr(t,n);a!==null&&on(a,t,n),Kf(t,n)}}var Ju=!0;function a1(t,n,a,l){var h=Y.T;Y.T=null;var f=at.p;try{at.p=2,Xf(t,n,a,l)}finally{at.p=f,Y.T=h}}function r1(t,n,a,l){var h=Y.T;Y.T=null;var f=at.p;try{at.p=8,Xf(t,n,a,l)}finally{at.p=f,Y.T=h}}function Xf(t,n,a,l){if(Ju){var h=$f(l);if(h===null)Lf(t,n,l,Wu,a),Yy(t,l);else if(l1(h,t,n,a,l))l.stopPropagation();else if(Yy(t,l),n&4&&-1<s1.indexOf(t)){for(;h!==null;){var f=En(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=$n(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var w=1<<31-he(y);T.entanglements[1]|=w,y&=~w}gi(f),(kt&6)===0&&(Lu=Ze()+500,Hl(0))}}break;case 31:case 13:T=lr(f,2),T!==null&&on(T,f,2),Uu(),Kf(f,2)}if(f=$f(l),f===null&&Lf(t,n,l,Wu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Lf(t,n,l,null,a)}}function $f(t){return t=Tn(t),Zf(t)}var Wu=null;function Zf(t){if(Wu=null,t=ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case Js:return 2;case Ws:return 8;case ta:case nh:return 32;case No:return 268435456;default:return 32}default:return 32}}var Jf=!1,wa=null,Da=null,Va=null,$l=new Map,Zl=new Map,Ia=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(t,n){switch(t){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function Jl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=En(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function l1(t,n,a,l,h){switch(n){case"focusin":return wa=Jl(wa,t,n,a,l,h),!0;case"dragenter":return Da=Jl(Da,t,n,a,l,h),!0;case"mouseover":return Va=Jl(Va,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return $l.set(f,Jl($l.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Zl.set(f,Jl(Zl.get(f)||null,t,n,a,l,h)),!0}return!1}function Ky(t){var n=ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Fy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,zn(t.priority,function(){Fy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=$f(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return n=En(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function Xy(t,n,a){tc(t)&&a.delete(n)}function o1(){Jf=!1,wa!==null&&tc(wa)&&(wa=null),Da!==null&&tc(Da)&&(Da=null),Va!==null&&tc(Va)&&(Va=null),$l.forEach(Xy),Zl.forEach(Xy)}function ec(t,n){t.blockedOn===n&&(t.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,o1)))}var nc=null;function $y(t){nc!==t&&(nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Zf(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,Xh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Es(t){function n(w){return ec(w,t)}wa!==null&&ec(wa,t),Da!==null&&ec(Da,t),Va!==null&&ec(Va,t),$l.forEach(n),Zl.forEach(n);for(var a=0;a<Ia.length;a++){var l=Ia[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&Ia.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[xe]||null;if(typeof f=="function")y||$y(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[xe]||null)T=y.formAction;else if(Zf(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$y(a)}}}function Zy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Wf(t){this._internalRoot=t}ic.prototype.render=Wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();ky(a,l,t,n,null,null)},ic.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ky(t.current,2,null,t,null,null),Uu(),n[Wn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=Uo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ia.length&&n!==0&&n<Ia[a].priority;a++);Ia.splice(a,0,t),a===0&&Ky(t)}};var Jy=e.version;if(Jy!=="19.2.0")throw Error(s(527,Jy,"19.2.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var u1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{xn=ac.inject(u1),Be=ac}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=rp,f=sp,y=lp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Py(t,1,!1,null,null,a,l,null,h,f,y,Zy),t[Wn]=n.current,xf(t),new Wf(n)},eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=rp,y=sp,T=lp,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=Py(t,1,!0,n,a??null,l,h,w,f,y,T,Zy),n.context=qy(null),a=n.current,l=_n(),l=Xa(l),h=ga(l),h.callback=null,pa(a,h,l),a=l,n.current.lanes=a,Ya(n,a),gi(n),t[Wn]=n.current,xf(t),new ic(n)},eo.version="19.2.0",eo}var d_;function qA(){if(d_)return rd.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=PA(),rd.exports}var kA=qA();const HA=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},GA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,p=_?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|p>>6,P=p&63;_||(P=64,d||(V=64)),s.push(i[E],i[S],i[V],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||S==null)throw new FA;const V=c<<2|g>>4;if(s.push(V),p!==64){const P=g<<4&240|p>>2;if(s.push(P),S!==64){const W=p<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QA=function(r){const e=Hv(r);return Gv.encodeByteArray(e,!0)},Ac=function(r){return QA(r).replace(/\./g,"")},YA=function(r){try{return Gv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>KA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YA(r[1]);return e&&JSON.parse(e)},Zd=()=>{try{return HA()||XA()||$A()||ZA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JA=r=>Zd()?.emulatorHosts?.[r],WA=r=>{const e=JA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Fv=()=>Zd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ac(JSON.stringify(i)),Ac(JSON.stringify(d)),""].join(".")}const so={};function iS(){const r={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?r.emulator.push(e):r.prod.push(e);return r}function aS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let g_=!1;function rS(r,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||so[r]===e||so[r]||g_)return;so[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=iS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,P){V.setAttribute("width","24"),V.setAttribute("id",P),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function p(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{g_=!0,d()},V}function E(V,P){V.setAttribute("id",P),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=aS(s),P=i("text"),W=document.getElementById(P)||document.createElement("span"),tt=i("learnmore"),F=document.getElementById(tt)||document.createElement("a"),et=i("preprendIcon"),nt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const st=V.element;g(st),E(F,tt);const Rt=p();_(nt,et),st.append(nt,W,F,Rt),document.body.appendChild(st)}c?(W.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){const r=Zd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class ks extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=hS,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qv.prototype.create)}}class Qv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?fS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ks(o,g,s)}}function fS(r,e){return r.replace(dS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const dS=/\{\$([^}]+)}/g;function Sc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(p_(c)&&p_(d)){if(!Sc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pS(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(r){return r===Er?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const _S={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},vS=Ut.INFO,ES={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},TS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ES[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const AS=(r,e)=>e.some(i=>r instanceof i);let y_,__;function SS(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,Sd=new WeakMap,Xv=new WeakMap,od=new WeakMap,Wd=new WeakMap;function RS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ma(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,r)}).catch(()=>{}),Wd.set(e,r),e}function CS(r){if(Sd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Sd.set(r,e)}let bd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Sd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ma(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){bd=r(bd)}function DS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ud(this),e,...i);return Xv.set(s,e.sort?e.sort():[e]),Ma(s)}:bS().includes(r)?function(...e){return r.apply(ud(this),e),Ma(Kv.get(this))}:function(...e){return Ma(r.apply(ud(this),e))}}function VS(r){return typeof r=="function"?DS(r):(r instanceof IDBTransaction&&CS(r),AS(r,SS())?new Proxy(r,bd):r)}function Ma(r){if(r instanceof IDBRequest)return RS(r);if(od.has(r))return od.get(r);const e=VS(r);return e!==r&&(od.set(r,e),Wd.set(e,r)),e}const ud=r=>Wd.get(r);function IS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Ma(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Ma(d.result),_.oldVersion,_.newVersion,Ma(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const NS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],cd=new Map;function v_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cd.get(e))return cd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=OS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let p=_.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&_.done]))[0]};return cd.set(e,c),c}wS(r=>({...r,get:(e,i,s)=>v_(e,i)||r.get(e,i,s),has:(e,i)=>!!v_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){return r.getComponent()?.type==="VERSION"}const Rd="@firebase/app",E_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Yv("@firebase/app"),LS="@firebase/app-compat",zS="@firebase/analytics-compat",US="@firebase/analytics",BS="@firebase/app-check-compat",jS="@firebase/app-check",PS="@firebase/auth",qS="@firebase/auth-compat",kS="@firebase/database",HS="@firebase/data-connect",GS="@firebase/database-compat",FS="@firebase/functions",QS="@firebase/functions-compat",YS="@firebase/installations",KS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",tb="@firebase/remote-config-compat",eb="@firebase/storage",nb="@firebase/storage-compat",ib="@firebase/firestore",ab="@firebase/ai",rb="@firebase/firestore-compat",sb="firebase",lb="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",ob={[Rd]:"fire-core",[LS]:"fire-core-compat",[US]:"fire-analytics",[zS]:"fire-analytics-compat",[jS]:"fire-app-check",[BS]:"fire-app-check-compat",[PS]:"fire-auth",[qS]:"fire-auth-compat",[kS]:"fire-rtdb",[HS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[FS]:"fire-fn",[QS]:"fire-fn-compat",[YS]:"fire-iid",[KS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[tb]:"fire-rc-compat",[eb]:"fire-gcs",[nb]:"fire-gcs-compat",[ib]:"fire-fst",[rb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[sb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,ub=new Map,wd=new Map;function T_(r,e){try{r.container.addComponent(e)}catch(i){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Rc(r){const e=r.name;if(wd.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,r);for(const i of bc.values())T_(i,r);for(const i of ub.values())T_(i,r);return!0}function cb(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function hb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new Qv("app","Firebase",fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=lb;function $v(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Cd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw xa.create("bad-app-name",{appName:String(o)});if(i||(i=Fv()),!i)throw xa.create("no-options");const c=bc.get(o);if(c){if(Sc(i,c.options)&&Sc(s,c.config))return c;throw xa.create("duplicate-app",{appName:o})}const d=new yS(o);for(const _ of wd.values())d.addComponent(_);const g=new db(i,s,d);return bc.set(o,g),g}function gb(r=Cd){const e=bc.get(r);if(!e&&r===Cd&&Fv())return $v();if(!e)throw xa.create("no-app",{appName:r});return e}function Vs(r,e,i){let s=ob[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Rc(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebase-heartbeat-database",yb=1,mo="firebase-heartbeat-store";let hd=null;function Zv(){return hd||(hd=IS(pb,yb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw xa.create("idb-open",{originalErrorMessage:r.message})})),hd}async function _b(r){try{const i=(await Zv()).transaction(mo),s=await i.objectStore(mo).get(Jv(r));return await i.done,s}catch(e){if(e instanceof ks)$i.warn(e.message);else{const i=xa.create("idb-get",{originalErrorMessage:e?.message});$i.warn(i.message)}}}async function A_(r,e){try{const s=(await Zv()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,Jv(r)),await s.done}catch(i){if(i instanceof ks)$i.warn(i.message);else{const s=xa.create("idb-set",{originalErrorMessage:i?.message});$i.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1024,Eb=30;class Tb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Sb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Eb){const o=bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){$i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S_(),{heartbeatsToSend:i,unsentEntries:s}=Ab(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return $i.warn(e),""}}}function S_(){return new Date().toISOString().substring(0,10)}function Ab(r,e=vb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),b_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Ac(JSON.stringify({version:2,heartbeats:r})).length}function bb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r){Rc(new fo("platform-logger",e=>new MS(e),"PRIVATE")),Rc(new fo("heartbeat",e=>new Tb(e),"PRIVATE")),Vs(Rd,E_,r),Vs(Rd,E_,"esm2020"),Vs("fire-js","")}Rb("");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,Wv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,I,L){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return b.prototype[I].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],I=D.g[2];let L=D.g[3],C;C=b+(L^R&(I^L))+M[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(I^b&(R^I))+M[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(R^L&(b^R))+M[2]+606105819&4294967295,I=L+(C<<17&4294967295|C>>>15),C=R+(b^I&(L^b))+M[3]+3250441966&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(L^R&(I^L))+M[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(I^b&(R^I))+M[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(R^L&(b^R))+M[6]+2821735955&4294967295,I=L+(C<<17&4294967295|C>>>15),C=R+(b^I&(L^b))+M[7]+4249261313&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(L^R&(I^L))+M[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(I^b&(R^I))+M[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(R^L&(b^R))+M[10]+4294925233&4294967295,I=L+(C<<17&4294967295|C>>>15),C=R+(b^I&(L^b))+M[11]+2304563134&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(L^R&(I^L))+M[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(I^b&(R^I))+M[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(R^L&(b^R))+M[14]+2792965006&4294967295,I=L+(C<<17&4294967295|C>>>15),C=R+(b^I&(L^b))+M[15]+1236535329&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(I^L&(R^I))+M[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^I&(b^R))+M[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(L^b))+M[11]+643717713&4294967295,I=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(I^L))+M[0]+3921069994&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(R^I))+M[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^I&(b^R))+M[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(L^b))+M[15]+3634488961&4294967295,I=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(I^L))+M[4]+3889429448&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(R^I))+M[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^I&(b^R))+M[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(L^b))+M[3]+4107603335&4294967295,I=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(I^L))+M[8]+1163531501&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(R^I))+M[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^I&(b^R))+M[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(L^b))+M[7]+1735328473&4294967295,I=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(I^L))+M[12]+2368359562&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(R^I^L)+M[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^I)+M[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^R)+M[11]+1839030562&4294967295,I=L+(C<<16&4294967295|C>>>16),C=R+(I^L^b)+M[14]+4259657740&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^L)+M[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^I)+M[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^R)+M[7]+4139469664&4294967295,I=L+(C<<16&4294967295|C>>>16),C=R+(I^L^b)+M[10]+3200236656&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^L)+M[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^I)+M[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^R)+M[3]+3572445317&4294967295,I=L+(C<<16&4294967295|C>>>16),C=R+(I^L^b)+M[6]+76029189&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^L)+M[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^I)+M[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^R)+M[15]+530742520&4294967295,I=L+(C<<16&4294967295|C>>>16),C=R+(I^L^b)+M[2]+3299628645&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(I^(R|~L))+M[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~I))+M[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~R))+M[14]+2878612391&4294967295,I=L+(C<<15&4294967295|C>>>17),C=R+(L^(I|~b))+M[5]+4237533241&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~L))+M[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~I))+M[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~R))+M[10]+4293915773&4294967295,I=L+(C<<15&4294967295|C>>>17),C=R+(L^(I|~b))+M[1]+2240044497&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~L))+M[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~I))+M[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~R))+M[6]+2734768916&4294967295,I=L+(C<<15&4294967295|C>>>17),C=R+(L^(I|~b))+M[13]+1309151649&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~L))+M[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~I))+M[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~R))+M[2]+718787259&4294967295,I=L+(C<<15&4294967295|C>>>17),C=R+(L^(I|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let I=this.h,L=0;for(;L<b;){if(I==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[I++]=D.charCodeAt(L++),I==this.blockSize){o(this,M),I=0;break}}else for(;L<b;)if(M[I++]=D[L++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function c(D,b){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function d(D,b){this.h=b;const R=[];let M=!0;for(let I=D.length-1;I>=0;I--){const L=D[I]|0;M&&L==b||(R[I]=L,M=!1)}this.g=R}var g={};function _(D){return-128<=D&&D<128?c(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return F(p(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new d(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(b,8));let M=S;for(let L=0;L<D.length;L+=8){var I=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+I),b);I<8?(I=p(Math.pow(b,I)),M=M.j(I).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var S=_(0),V=_(1),P=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-F(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(tt(this))return"-"+F(this).toString(D);const b=p(Math.pow(D,6));var R=this;let M="";for(;;){const I=Rt(R,b).g;R=et(R,I.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=I,W(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function tt(D){return D.h==-1}r.l=function(D){return D=et(this,D),tt(D)?-1:W(D)?0:1};function F(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new d(R,~D.h).add(V)}r.abs=function(){return tt(this)?F(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let I=0;I<=b;I++){let L=M+(this.i(I)&65535)+(D.i(I)&65535),C=(L>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);M=C>>>16,L&=65535,C&=65535,R[I]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function et(D,b){return D.add(F(b))}r.j=function(D){if(W(this)||W(D))return S;if(tt(this))return tt(D)?F(this).j(F(D)):F(F(this).j(D));if(tt(D))return F(this.j(F(D)));if(this.l(P)<0&&D.l(P)<0)return p(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<D.g.length;I++){const L=this.i(M)>>>16,C=this.i(M)&65535,ie=D.i(I)>>>16,De=D.i(I)&65535;R[2*M+2*I]+=C*De,nt(R,2*M+2*I),R[2*M+2*I+1]+=L*De,nt(R,2*M+2*I+1),R[2*M+2*I+1]+=C*ie,nt(R,2*M+2*I+1),R[2*M+2*I+2]+=L*ie,nt(R,2*M+2*I+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new d(R,0)};function nt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function st(D,b){this.g=D,this.h=b}function Rt(D,b){if(W(b))throw Error("division by zero");if(W(D))return new st(S,S);if(tt(D))return b=Rt(F(D),b),new st(F(b.g),F(b.h));if(tt(b))return b=Rt(D,F(b)),new st(F(b.g),b.h);if(D.g.length>30){if(tt(D)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=b;M.l(D)<=0;)R=wt(R),M=wt(M);var I=Ct(R,1),L=Ct(M,1);for(M=Ct(M,2),R=Ct(R,2);!W(M);){var C=L.add(M);C.l(D)<=0&&(I=I.add(R),L=C),M=Ct(M,1),R=Ct(R,1)}return b=et(D,I.j(b)),new st(I,b)}for(I=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(R),C=L.j(b);tt(C)||C.l(D)>0;)R-=M,L=p(R),C=L.j(b);W(L)&&(L=V),I=I.add(L),D=et(D,C)}return new st(I,D)}r.B=function(D){return Rt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new d(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new d(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new d(R,this.h^D.h)};function wt(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(R,D.h)}function Ct(D,b){const R=b>>5;b%=32;const M=D.g.length-R,I=[];for(let L=0;L<M;L++)I[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Wv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,La=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,no,eE,gc,Dd,nE,iE,aE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break t;v=v[z]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,z,q){for(var it=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)it[Tt-2]=arguments[Tt];return m.prototype[z].apply(A,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const q=z.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=z[it]}else u.push(z)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){d.setTimeout(()=>{throw u},0)}function et(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new tt(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Ct=!1,D=new nt,b=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(R)}};function R(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){F(v)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,I),ie.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),Y=0;function at(u,m,v,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=z,this.key=++Y,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(u,m){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,v,A,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=St(u,m,A,z);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new at(m,this.src,q,!!A,z),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(A,z,1),q&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,A){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return z}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ve={};function ae(u,m,v,A,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,A,z);return null}return v=Zs(v),u&&u[De]?u.J(m,v,g(A)?!!A.capture:!1,z):Ha(u,m,v,!1,A,z)}function Ha(u,m,v,A,z,q){if(!m)throw Error("Invalid event type");const it=g(z)?!!z.capture:!!z;let Tt=Ga(u);if(Tt||(u[Lt]=Tt=new ut(u)),v=Tt.add(m,v,A,it,q),v.proxy)return v;if(A=Nr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(z=it),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nr(){function u(v){return m.call(u.src,u.listener,v)}const m=Xs;return u}function Or(u,m,v,A,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Or(u,m[q],v,A,z);else A=g(A)?!!A.capture:!!A,v=Zs(v),u&&u[De]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=St(m,v,A,z),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Ga(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,A,z)),(v=u>-1?m[u]:null)&&Mr(v))}function Mr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])yt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Kn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ga(m))?(yt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):mt(u)}}}function Kn(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Xs(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Mr(u),u=v.call(A,m)}return u}function Ga(u){return u=u[Lt],u instanceof ut?u:null}var $s="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zs(u){return typeof u=="function"?u:(u[$s]||(u[$s]=function(m){return u.handleEvent(m)}),u[$s])}function pe(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}S(pe,M),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(u,m,v,A){Or(this,u,m,v,A)};function Ie(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var z=m;m=new I(A,u),rt(m,z)}z=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],z=Wi(q,A,!0,m)&&z;if(q=m.g=u,z=Wi(q,A,!0,m)&&z,z=Wi(q,A,!1,m)&&z,v)for(it=0;it<v.length;it++)q=m.g=v[it],z=Wi(q,A,!1,m)&&z}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)mt(v[A]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},pe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Wi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Tt=it.listener,fe=it.ha||it.src;it.fa&&yt(u.i,it),z=Tt.call(fe,A)!==!1&&z}}return z&&!A.defaultPrevented}function eh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Io(u){u.g=eh(()=>{u.g=null,u.i&&(u.i=!1,Io(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fa(u){M.call(this),this.h=u,this.g={}}S(Fa,M);var Js=[];function Ws(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Mr(m)},u),u.g={}}Fa.prototype.N=function(){Fa.Z.N.call(this),Ws(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ta=d.JSON.stringify,nh=d.JSON.parse,No=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Oo(){}function Mo(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){I.call(this,"d")}S(Be,I);function vn(){I.call(this,"c")}S(vn,I);var he={},xo=null;function xr(){return xo=xo||new pe}he.Ia="serverreachability";function Lo(u){I.call(this,he.Ia,u)}S(Lo,I);function Xn(u){const m=xr();Ie(m,new Lo(m))}he.STAT_EVENT="statevent";function Qa(u,m){I.call(this,he.STAT_EVENT,u),this.stat=m}S(Qa,I);function ye(u){const m=xr();Ie(m,new Qa(m,u))}he.Ja="timingevent";function $n(u,m){I.call(this,he.Ja,u),this.size=m}S($n,I);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function ih(u,m,v,A,z,q){u.info(function(){if(u.g)if(q){var it="",Tt=q.split("&");for(let qt=0;qt<Tt.length;qt++){var fe=Tt[qt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Sn=re.split("_");it=Sn.length>=2&&Sn[1]=="type"?it+(re+"="+fe+"&"):it+(re+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+v+`
`+it})}function zo(u,m,v,A,z,q,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+v+`
`+q+" "+it})}function Jn(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ah(u,v)+(A?" "+A:"")})}function Ya(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function ah(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return ta(q)}catch{return m}}var Ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},el;function Xa(){}S(Xa,Oo),Xa.prototype.g=function(){return new XMLHttpRequest},el=new Xa;function Ri(u){return encodeURIComponent(String(u))}function Uo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Fa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function Wn(u,m,v){u.M=1,u.A=$a(Ee(m)),u.u=v,u.R=!0,Lr(u,null)}function Lr(u,m){u.F=Date.now(),ti(u),u.B=Ee(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),jr(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Un,u.g=Jo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Js[0]=z.toString()),z=Js);for(let q=0;q<z.length;q++){const it=ae(v,z[q],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),ih(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Pn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||fe==7||(fe==8||qt<=0?Xn(3):Xn(2)),ei(this);var m=this.g.ca();this.X=m;var v=rh(this);if(this.o=m==200,zo(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(u=q)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,ye(12),cn(this),En(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=jo(this,v),re==xe){Tt==4&&(this.m=4,ye(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),Jn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,re,null),ni(this,re);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,v,"[Invalid Chunked Response]"),cn(this),En(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),pl(it),it.P=!0,ye(11))}}else Jn(this.i,this.l,v,null),ni(this,v);Tt==4&&cn(this),this.o&&!this.K&&(Tt==4?Ko(this.j,this):(this.o=!1,ti(this)))}else wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),cn(this),En(this)}}}catch{}finally{}};function rh(u){if(!Bo(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const A=m.length,z=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(z&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Bo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function jo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?xe:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?xe:(m=m.slice(A,A+v),u.C=A+v,m)))}zn.prototype.cancel=function(){this.K=!0,cn(this)};function ti(u){u.T=Date.now()+u.H,zr(u,u.H)}function zr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(p(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ya(this.i,this.B),this.M!=2&&(Xn(),ye(17)),cn(this),this.m=2,En(this)):zr(this,this.T-u)};function En(u){u.j.I==0||u.K||Ko(u.j,u)}function cn(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ws(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ai(v.h,u))){if(!u.L&&ai(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Gr(v),oa(v);else break t;ir(v),ye(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Zn(p(v.Va,v),6e3));ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ci(v,11)}else if((u.L||v.g==u)&&Gr(v),!C(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const re=qt[0];if(!(re<=v.K))if(v.K=re,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Sn=qt[3];Sn!=null&&(v.ka=Sn,v.j.info("VER="+v.ka));const hi=qt[4];hi!=null&&(v.za=hi,v.j.info("SVER="+v.za));const qn=qt[5];qn!=null&&typeof qn=="number"&&qn>0&&(A=1.5*qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const kn=u.g;if(kn){const ar=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var q=A.h;q.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(al(q,q.h),q.h=null))}if(A.G){const Fr=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fr&&(A.wa=Fr,Ft(A.J,A.G,Fr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=u;if(A.na=Zo(A,A.L?A.ba:null,A.W),it.L){rl(A.h,it);var Tt=it,fe=A.O;fe&&(Tt.H=fe),Tt.D&&(ei(Tt),ti(Tt)),A.g=it}else Qo(A);v.i.length>0&&ui(v)}else qt[0]!="stop"&&qt[0]!="close"||ci(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ci(v,7):ml(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}Xn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function al(u,m){u.g?u.g.add(m):u.h=m}function rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}nl.prototype.cancel=function(){if(this.i=sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let z,q=null;A>=0?(z=u[v].substring(0,A),q=u[v].substring(A+1)):z=u[v],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,ea(this,u.u),this.h=u.h,ll(this,Go(u.i)),this.m=u.m):u&&(m=String(u).match(Po))?(this.l=!1,Le(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),ea(this,m[4]),this.h=ri(m[5]||"",!0),ll(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new ia(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Za(m,Br,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Za(m,Br,!0),"@"),u.push(Ri(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Za(v,v.charAt(0)=="/"?ol:qo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Za(v,ko)),u.join("")},hn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ea(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=m.h.lastIndexOf("/");z!=-1&&(A=m.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let it=0;it<z.length;){const Tt=z[it++];Tt=="."?A&&it==z.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&it==z.length&&q.push("")):(q.push(Tt),A=!0)}A=q.join("/")}else A=z}return v?m.h=A:v=u.i.toString()!=="",v?ll(m,Go(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new hn(u)}function Le(u,m,v){u.j=v?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ea(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ll(u,m,v){m instanceof ia?(u.i=m,Pr(u.i,u.l)):(v||(m=Za(m,na)),u.i=new ia(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function $a(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Za(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Br=/[#\/\?@]/g,qo=/[#\?:]/g,ol=/[#\?]/g,na=/[#\?@]/g,ko=/#/g;function ia(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ur(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ia.prototype,r.add=function(u,m){nn(this),this.i=null,u=aa(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ho(u,m){nn(u),m=aa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ul(u,m){return nn(u),m=aa(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(m,z,A,this)},this)},this)};function cl(u,m){nn(u);let v=[];if(typeof m=="string")ul(u,m)&&(v=v.concat(u.g.get(aa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return nn(this),this.i=null,u=aa(this,u),ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=cl(this,u),u.length>0?String(u[0]):m):m};function jr(u,m,v){Ho(u,m),v.length>0&&(u.i=null,u.g.set(aa(u,m),P(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const z=Ri(v);v=cl(this,v);for(let q=0;q<v.length;q++){let it=z;v[q]!==""&&(it+="="+Ri(v[q])),u.push(it)}}return this.i=u.join("&")};function Go(u){const m=new ia;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function aa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Pr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Ho(this,A),jr(this,z,v))},u)),u.j=m}function Bn(u,m){const v=new Ln;if(d.Image){const A=new Image;A.onload=E(Tn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Tn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Tn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Tn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function hl(u,m){const v=new Ln,A=new AbortController,z=setTimeout(()=>{A.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function ra(){this.g=new No}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}S(si,Oo),si.prototype.g=function(){return new Ja(this.i,this.h)};function Ja(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ja,pe),r=Ja.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?sa(this):jn(this),this.readyState==3&&qr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,sa(this))},r.Na=function(u){this.g&&(this.response=u,sa(this))},r.ga=function(){this.g&&sa(this)};function sa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return Bt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Wa(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=An(v),typeof u=="string"?v!=null&&Ri(v):Ft(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var li=/^https?$/i,fl=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():el.g(),this.g.onreadystatechange=V(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){tr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(fl,m,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){tr(this,q)}};function tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,dl(u),Ci(u)}function dl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?er(this):this.Xa())},r.Xa=function(){er(this)};function er(u){if(u.h&&typeof c<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let it=String(u.D).match(Po)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),A=!li.test(it?it.toLowerCase():"")}v=A}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var z=Pn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",dl(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),nh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=Uo(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[z]||[];m[z]=q,q.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function la(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,u),this.Za=oi("retryDelaySeedMs",1e4,u),this.Ta=oi("forwardChannelMaxRetries",2,u),this.va=oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(u&&u.concurrentRequestLimit),this.Ba=new ra,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=la.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){ye(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Zo(this,null,this.W),ui(this)};function ml(u){if(kr(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),nr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=$a(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Jo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}$o(u)}function oa(u){u.g&&(pl(u),u.g.cancel(),u.g=null)}function kr(u){oa(u),u.v&&(d.clearTimeout(u.v),u.v=null),Gr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!il(u.h)&&!u.m){u.m=!0;var m=u.Ea;wt||b(),Ct||(wt(),Ct=!0),D.add(m,u),u.D=0}}function Hr(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(p(u.Ea,u,m),Xo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Fo(this,z,m),v=Ee(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),nr(this,v),q&&(this.R?m="headers="+Ri(An(q))+"&"+m:this.u&&Wa(v,this.u,q)),al(this.h,z),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),z.U=!0,Wn(z,v,null)):Wn(z,v,m),this.I=2}}else this.I==3&&(u?gl(this,u):this.i.length==0||il(this.h)||gl(this))};function gl(u,m){var v;m?v=m.l:v=u.V++;const A=Ee(u.J);Ft(A,"SID",u.M),Ft(A,"RID",v),Ft(A,"AID",u.K),nr(u,A),u.u&&u.o&&Wa(A,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Fo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),al(u.h,v),Wn(v,A,m)}function nr(u,m){u.H&&Bt(u.H,function(v,A){Ft(m,A,v)}),u.l&&Bt({},function(v,A){Ft(m,A,v)})}function Fo(u,m,v){v=Math.min(u.i.length,v);const A=u.l?p(u.l.Ka,u.l,u):null;t:{var z=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=z[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let qt=!0;for(let re=0;re<v;re++){var q=z[re].g;const Sn=z[re].map;if(q-=Tt,q<0)Tt=Math.max(0,z[re].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var it=Sn instanceof Map?Sn:Object.entries(Sn);for(const[hi,qn]of it){let kn=qn;g(qn)&&(kn=ta(qn)),fe.push(q+hi+"="+encodeURIComponent(kn))}}catch(hi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),hi}}catch{A&&A(Sn)}}if(qt){it=fe.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Qo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;wt||b(),Ct||(wt(),Ct=!0),D.add(m,u),u.A=0}}function ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(p(u.Da,u),Xo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Yo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),oa(this),Yo(this))};function pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Yo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),nr(u,m),u.u&&u.o&&Wa(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=$a(Ee(m)),v.u=null,v.R=!0,Lr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,oa(this),ir(this),ye(19))};function Gr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ko(u,m){var v=null;if(u.g==m){Gr(u),pl(u),u.g=null;var A=2}else if(ai(u.h,m))v=m.G,rl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;A=xr(),Ie(A,new $n(A,v)),ui(u)}else Qo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(A==1&&Hr(u,m)||A==2&&ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function Xo(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),A=u.Ua;const z=!A;A=new hn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),$a(A),z?Bn(A.toString(),v):hl(A.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),$o(u),kr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function $o(u){if(u.I=0,u.ja=[],u.l){const m=sl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Zo(u,m,v){var A=v instanceof hn?Ee(v):new hn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ea(A,A.u);else{var z=d.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new hn(null);A&&Le(q,A),m&&(q.g=m),z&&ea(q,z),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",u.ka),nr(u,A),A}function Jo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new si({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ua(){}ua.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){pe.call(this),this.g=new la(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}S(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ml(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ta(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&ui(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,Je.Z.N.call(this)};function tu(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(tu,Be);function eu(){vn.call(this),this.status=1}S(eu,vn);function Di(u){this.g=u}S(Di,Wo),Di.prototype.ra=function(){Ie(this.g,"a")},Di.prototype.qa=function(u){Ie(this.g,new tu(u))},Di.prototype.pa=function(u){Ie(this.g,new eu)},Di.prototype.oa=function(){Ie(this.g,"b")},ua.prototype.createWebChannel=ua.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,aE=function(){return new ua},iE=function(){return xr()},nE=he,Dd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ka.NO_ERROR=0,Ka.TIMEOUT=8,Ka.HTTP_ERROR=6,gc=Ka,tl.COMPLETE="complete",eE=tl,Mo.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,no=Mo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,tE=Kt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",w_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Yv("@firebase/firestore");function bs(){return br.logLevel}function ot(r,...e){if(br.logLevel<=Ut.DEBUG){const i=e.map(tm);br.debug(`Firestore (${Hs}): ${r}`,...i)}}function Zi(r,...e){if(br.logLevel<=Ut.ERROR){const i=e.map(tm);br.error(`Firestore (${Hs}): ${r}`,...i)}}function Ms(r,...e){if(br.logLevel<=Ut.WARN){const i=e.map(tm);br.warn(`Firestore (${Hs}): ${r}`,...i)}}function tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,rE(r,s,i)}function rE(r,e,i){let s=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Zi(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||rE(e,o,s)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class wb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Db{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new sE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class Vb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ib{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Vb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ob(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function Vd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return fd(o)===fd(c)?Ot(o,c):fd(o)?1:-1}return Ot(r.length,e.length)}const Mb=55296,xb=57343;function fd(r){const e=r.charCodeAt(0);return e>=Mb&&e<=xb}function xs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class pi{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ot(e.length,i.length)}static compareSegments(e,i){const s=pi.isNumericId(e),o=pi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Vd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class Wt extends pi{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends pi{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return Lb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new Fe([V_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Wt.fromString(e))}static fromName(e){return new dt(Wt.fromString(e).popFirst(5))}static empty(){return new dt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zb(r,e,i,s){if(e===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function I_(r){if(!dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function N_(r){if(dt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pc(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){const i={typeString:r};return e&&(i.value=e),i}function bo(r,e){if(!oE(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*M_);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<O_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:we("string",te._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new te(0,0))}static max(){return new _t(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function Ub(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ua(o,dt.empty(),e)}function Bb(r){return new Ua(r.readTime,r.key,go)}class Ua{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ua(_t.min(),dt.empty(),go)}static max(){return new Ua(_t.max(),dt.empty(),go)}}function jb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Pb)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>s(_)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((o=>o?J.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((E=>{d[p]=E,++g,g===c&&s(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new J(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function kb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=-1;function kc(r){return r==null}function Cc(r){return r===0&&1/r==-1/0}function Hb(r){return typeof r=="number"&&Number.isInteger(r)&&!Cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="";function Gb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=x_(e)),e=Fb(r.get(i),e);return x_(e)}function Fb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case uE:i+="";break;default:i+=c}}return i}function x_(r){return r+uE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function wr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function cE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new hE("Invalid base64 string: "+c):c}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=Qb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ja(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="server_timestamp",dE="__type__",mE="__previous_value__",gE="__local_write_time__";function im(r){return(r?.mapValue?.fields||{})[dE]?.stringValue===fE}function Hc(r){const e=r.mapValue.fields[mE];return im(e)?Hc(e):e}function po(r){const e=Ba(r.mapValue.fields[gE].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i,s,o,c,d,g,_,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=E}}const wc="(default)";class yo{constructor(e,i){this.projectId=e,this.database=i||wc}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__type__",Kb="__max__",oc={mapValue:{}},yE="__vector__",Dc="value";function Pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?im(r)?4:$b(r)?9007199254740991:Xb(r)?10:11:pt(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=Pa(r);if(i!==Pa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return po(r).isEqual(po(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ba(o.timestampValue),g=Ba(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return ja(o.bytesValue).isEqual(ja(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?Cc(d)===Cc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return xs(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(L_(d)!==L_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ai(d[_],g[_])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function _o(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function zs(r,e){if(r===e)return 0;const i=Pa(r),s=Pa(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,e);case 3:return U_(r.timestampValue,e.timestampValue);case 4:return U_(po(r),po(e));case 5:return Vd(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=ja(c),_=ja(d);return g.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const E=Ot(g[p],_[p]);if(E!==0)return E}return Ot(g.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ot(ge(c.latitude),ge(d.latitude));return g!==0?g:Ot(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return B_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Dc]?.arrayValue,E=_[Dc]?.arrayValue,S=Ot(p?.values?.length||0,E?.values?.length||0);return S!==0?S:B_(p,E)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===oc.mapValue&&d===oc.mapValue)return 0;if(c===oc.mapValue)return 1;if(d===oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},E=Object.keys(p);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const V=Vd(_[S],E[S]);if(V!==0)return V;const P=zs(g[_[S]],p[E[S]]);if(P!==0)return P}return Ot(_.length,E.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function U_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Ba(r),s=Ba(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function B_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=zs(i[o],s[o]);if(c)return c}return Ot(i.length,s.length)}function Us(r){return Id(r)}function Id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ba(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ja(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Id(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Id(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function pc(r){switch(Pa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hc(r);return e?16+pc(e):16;case 5:return 2*r.stringValue.length;case 6:return ja(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return wr(s.fields,((c,d)=>{o+=c.length+pc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function j_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Nd(r){return!!r&&"integerValue"in r}function am(r){return!!r&&"arrayValue"in r}function P_(r){return!!r&&"nullValue"in r}function q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yc(r){return!!r&&"mapValue"in r}function Xb(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===yE}function lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return wr(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=lo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=lo(r.arrayValue.values[i]);return e}return{...r}}function $b(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){wr(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new On(lo(this.value))}}function _E(r){const e=[];return wr(r.fields,((i,s)=>{const o=new Fe([i]);if(yc(s)){const c=_E(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new $e(e,0,_t.min(),_t.min(),_t.min(),On.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,_t.min(),_t.min(),On.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,_t.min(),_t.min(),On.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i){this.position=e,this.inclusive=i}}function k_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=zs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{}class Ce extends vE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Wb(e,i,s):i==="array-contains"?new n2(e,s):i==="in"?new i2(e,s):i==="not-in"?new a2(e,s):i==="array-contains-any"?new r2(e,s):new Ce(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new t2(e,s):new e2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(zs(i,this.value)):i!==null&&Pa(this.value)===Pa(i)&&this.matchesComparison(zs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends vE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return EE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EE(r){return r.op==="and"}function TE(r){return Jb(r)&&EE(r)}function Jb(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Od(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Us(r.value);if(TE(r))return r.filters.map((e=>Od(e))).join(",");{const e=r.filters.map((i=>Od(i))).join(",");return`${r.op}(${e})`}}function AE(r,e){return r instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)})(r,e):r instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,g)=>c&&AE(d,o.filters[g])),!0):!1})(r,e):void pt(19439)}function SE(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Us(i.value)}`})(r):r instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(SE).join(" ,")+"}"})(r):"Filter"}class Wb extends Ce{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class t2 extends Ce{constructor(e,i){super(e,"in",i),this.keys=bE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class e2 extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=bE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bE(r,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class n2 extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return am(i)&&_o(i.arrayValue,this.value)}}class i2 extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class a2 extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class r2 extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>_o(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function G_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new s2(r,e,i,s,o,c,d)}function rm(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Od(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Us(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Us(s))).join(",")),e.Te=i}return e.Te}function sm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!AE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!H_(r.startAt,e.startAt)&&H_(r.endAt,e.endAt)}function Md(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l2(r,e,i,s,o,c,d,g){return new Ro(r,e,i,s,o,c,d,g)}function lm(r){return new Ro(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RE(r){return r.collectionGroup!==null}function oo(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ic(c,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new Ic(Fe.keyField(),s))}return e.Ie}function yi(r){const e=Et(r);return e.Ee||(e.Ee=o2(e,oo(r))),e.Ee}function o2(r,e){if(r.limitType==="F")return G_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Ic(o.field,c)}));const i=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function xd(r,e){const i=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ld(r,e,i){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Gc(r,e){return sm(yi(r),yi(e))&&r.limitType===e.limitType}function CE(r){return`${rm(yi(r))}|lt:${r.limitType}`}function Rs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>SE(o))).join(", ")}]`),kc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Us(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Us(o))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Fc(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of oo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,_){const p=k_(d,g,_);return d.inclusive?p<=0:p<0})(s.startAt,oo(s),o)||s.endAt&&!(function(d,g,_){const p=k_(d,g,_);return d.inclusive?p>=0:p>0})(s.endAt,oo(s),o))})(r,e)}function u2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wE(r){return(e,i)=>{let s=!1;for(const o of oo(r)){const c=c2(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function c2(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?zs(_,p):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new oe(dt.comparator);function Ji(){return h2}const DE=new oe(dt.comparator);function io(...r){let e=DE;for(const i of r)e=e.insert(i.key,i);return e}function VE(r){let e=DE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Tr(){return uo()}function IE(){return uo()}function uo(){return new Dr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const f2=new oe(dt.comparator),d2=new Me(dt.comparator);function Mt(...r){let e=d2;for(const i of r)e=e.add(i);return e}const m2=new Me(Ot);function g2(){return m2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function NE(r){return{integerValue:""+r}}function p2(r,e){return Hb(e)?NE(e):om(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function y2(r,e,i){return r instanceof Nc?(function(o,c){const d={fields:{[dE]:{stringValue:fE},[gE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&im(c)&&(c=Hc(c)),c&&(d.fields[mE]=c),{mapValue:d}})(i,e):r instanceof vo?ME(r,e):r instanceof Eo?xE(r,e):(function(o,c){const d=OE(o,c),g=Q_(d)+Q_(o.Ae);return Nd(d)&&Nd(o.Ae)?NE(g):om(o.serializer,g)})(r,e)}function _2(r,e,i){return r instanceof vo?ME(r,e):r instanceof Eo?xE(r,e):i}function OE(r,e){return r instanceof Oc?(function(s){return Nd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Nc extends Qc{}class vo extends Qc{constructor(e){super(),this.elements=e}}function ME(r,e){const i=LE(e);for(const s of r.elements)i.some((o=>Ai(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Eo extends Qc{constructor(e){super(),this.elements=e}}function xE(r,e){let i=LE(e);for(const s of r.elements)i=i.filter((o=>!Ai(o,s)));return{arrayValue:{values:i}}}class Oc extends Qc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(r){return ge(r.integerValue||r.doubleValue)}function LE(r){return am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function v2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof vo&&o instanceof vo||s instanceof Eo&&o instanceof Eo?xs(s.elements,o.elements,Ai):s instanceof Oc&&o instanceof Oc?Ai(s.Ae,o.Ae):s instanceof Nc&&o instanceof Nc})(r.transform,e.transform)}class E2{constructor(e,i){this.version=e,this.transformResults=i}}class Ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yc{}function zE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BE(r.key,Ki.none()):new Co(r.key,r.data,Ki.none());{const i=r.data,s=On.empty();let o=new Me(Fe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Vr(r.key,s,new Qn(o.toArray()),Ki.none())}}function T2(r,e,i){r instanceof Co?(function(o,c,d){const g=o.value.clone(),_=K_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Vr?(function(o,c,d){if(!_c(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=K_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(UE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function co(r,e,i,s){return r instanceof Co?(function(c,d,g,_){if(!_c(c.precondition,d))return g;const p=c.value.clone(),E=X_(c.fieldTransforms,_,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof Vr?(function(c,d,g,_){if(!_c(c.precondition,d))return g;const p=X_(c.fieldTransforms,_,d),E=d.data;return E.setAll(UE(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,g){return _c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function A2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=OE(s.transform,o||null);c!=null&&(i===null&&(i=On.empty()),i.set(s.field,c))}return i||null}function Y_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xs(s,o,((c,d)=>v2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Co extends Yc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vr extends Yc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function UE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function K_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,_2(d,g,i[o]))}return s}function X_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,y2(c,d,e))}return s}class BE extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S2 extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&T2(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=IE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=zE(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,((i,s)=>Y_(i,s)))&&xs(this.baseMutations,e.baseMutations,((i,s)=>Y_(i,s)))}}class um{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return f2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new um(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,zt;function w2(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function jE(r){if(r===void 0)return Zi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=Re||(Re={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new La([4294967295,4294967295],0);function $_(r){const e=D2().encode(r),i=new Wv;return i.update(e),new Uint8Array(i.digest())}function Z_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new La([i,s],0),new La([o,c],0)]}class cm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ao(`Invalid padding: ${i}`);if(s<0)throw new ao(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=La.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(La.fromNumber(s)));return o.compare(V2)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$_(e),[s,o]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new cm(c,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=$_(e),[s,o]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,wo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Kc(_t.min(),o,new oe(Ot),Ji(),Mt())}}class wo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new wo(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class PE{constructor(e,i){this.targetId=e,this.Ce=i}}class qE{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:c})}})),new wo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=uc(),this.He=uc(),this.Ye=new oe(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Md(c))if(s===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ja(s).toUint8Array()}catch(_){if(_ instanceof hE)return Ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new cm(d,o,c)}catch(_){return Ms(_ instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Md(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Kc(e,i,this.Ye,this.je,s);return this.je=Ji(),this.Je=uc(),this.He=uc(),this.Ye=new oe(Ot),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function uc(){return new oe(dt.comparator)}function W_(){return new oe(dt.comparator)}const N2={asc:"ASCENDING",desc:"DESCENDING"},O2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M2={and:"AND",or:"OR"};class x2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function zd(r,e){return r.useProto3Json||kc(e)?e:{value:e}}function Mc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function L2(r,e){return Mc(r,e.toTimestamp())}function _i(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const s=Ba(i);return new te(s.seconds,s.nanos)})(r))}function hm(r,e){return Ud(r,e).canonicalString()}function Ud(r,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function HE(r){const e=Wt.fromString(r);return Ht(KE(e),10190,{key:e.toString()}),e}function Bd(r,e){return hm(r.databaseId,e.path)}function dd(r,e){const i=HE(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(FE(i))}function GE(r,e){return hm(r.databaseId,e)}function z2(r){const e=HE(r);return e.length===4?Wt.emptyPath():FE(e)}function jd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tv(r,e,i){return{name:Bd(r,e),fields:i.value.mapValue.fields}}function U2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const E=p.code===void 0?Z.UNKNOWN:jE(p.code);return new lt(E,p.message||"")})(d);i=new qE(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(r,s.document.name),c=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):_t.min(),g=new On({mapValue:{fields:s.document.fields}}),_=$e.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new vc(p,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dd(r,s.document),c=s.readTime?_i(s.readTime):_t.min(),d=$e.newNoDocument(o,c),g=s.removedTargetIds||[];i=new vc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dd(r,s.document),c=s.removedTargetIds||[];i=new vc([],c,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new C2(o,c),g=s.targetId;i=new PE(g,d)}}return i}function B2(r,e){let i;if(e instanceof Co)i={update:tv(r,e.key,e.value)};else if(e instanceof BE)i={delete:Bd(r,e.key)};else if(e instanceof Vr)i={update:tv(r,e.key,e.data),updateMask:Y2(e.fieldMask)};else{if(!(e instanceof S2))return pt(16599,{Vt:e.type});i={verify:Bd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Oc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:L2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,e.precondition)),i}function j2(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?_i(o.updateTime):_i(c);return d.isEqual(_t.min())&&(d=_i(c)),new E2(d,o.transformResults||[])})(i,e)))):[]}function P2(r,e){return{documents:[GE(r,e.path)]}}function q2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=GE(r,o);const c=(function(p){if(p.length!==0)return YE(Yn.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((E=>(function(V){return{field:Cs(V.field),direction:G2(V.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=zd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function k2(r){let e=z2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const V=QE(S);return V instanceof Yn&&TE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(W){return new Ic(ws(W.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,kc(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(S){const V=!!S.before,P=S.values||[];return new Vc(P,V)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const V=!S.before,P=S.values||[];return new Vc(P,V)})(i.endAt)),l2(e,o,d,c,g,"F",_,p)}function H2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function QE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ws(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ws(i.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ws(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(ws(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((s=>QE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function G2(r){return N2[r]}function F2(r){return O2[r]}function Q2(r){return M2[r]}function Cs(r){return{fieldPath:r.canonicalString()}}function ws(r){return Fe.fromServerFormat(r.fieldPath)}function YE(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(q_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(i.field),op:F2(i.op),value:i.value}}})(r):r instanceof Yn?(function(i){const s=i.getFilters().map((o=>YE(o)));return s.length===1?s[0]:{compositeFilter:{op:Q2(i.op),filters:s}}})(r):pt(54877,{filter:r})}function Y2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function KE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i,s,o,c=_t.min(),d=_t.min(),g=Qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.yt=e}}function X2(r){const e=k2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.Cn=new Z2}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ua.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Z2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Me(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Me(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(XE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",J2=1048576;function iv([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class W2{constructor(e){this.Ir=e,this.buffer=new Me(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();iv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fs(i)?ot(nv,"Ignoring IndexedDB error during garbage collection: ",i):await Gs(i)}await this.Vr(3e5)}))}}class eR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(qc.ce);const s=new W2(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ev)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,g,_,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),bs()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function nR(r,e){return new eR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new Dr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&co(s.mutation,o,Qn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const o=Tr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let d=io();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Tr();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let c=Ji();const d=uo(),g=(function(){return uo()})();return i.forEach(((_,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Vr)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),co(E.mutation,p,E.mutation.getFieldMask(),te.now())):d.set(p.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,E)=>d.set(p,E))),i.forEach(((p,E)=>g.set(p,new aR(E,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=uo();let o=new oe(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let E=s.get(_)||Qn.empty();E=g.applyToLocalView(p,E),s.set(_,E);const S=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,E=_.value,S=IE();E.forEach((V=>{if(!c.has(V)){const P=zE(i.get(V),s.get(V));P!==null&&S.set(V,P),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):RE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):J.resolve(Tr());let g=go,_=c;return d.next((p=>J.forEach(p,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((V=>{_=_.insert(E,V)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Mt()))).next((E=>({batchId:g,changes:VE(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=io();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(_=>{const p=(function(S,V){return new Ro(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((d=>{c.forEach(((_,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,$e.newInvalidDocument(E)))}));let g=io();return d.forEach(((_,p)=>{const E=c.get(_);E!==void 0&&co(E.mutation,p,Qn.empty(),te.now()),Fc(i,p)&&(g=g.insert(_,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:X2(o.bundledQuery),readTime:_i(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.overlays=new oe(dt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Tr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=Tr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>s&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe(((p,E)=>p-E));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Tr(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Tr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,E)=>g.set(p,E))),!(g.size()>=o)););return J.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new R2(i,s));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new dt(new Wt([])),s=new Ue(i,e),o=new Ue(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new Wt([])),s=new Ue(i,e),o=new Ue(i,e+1);let c=Mt();return this.Ur.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new b2(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?nm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(Ot);return i.forEach((o=>{const c=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new dt(c),0);let g=new Me(Ot);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(_.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Ue(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.ri=e,this.docs=(function(){return new oe(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Ji();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Ji();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:E}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||jb(Bb(E),s)<=0||(o.has(E.key)||Fc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new hR(this)}getSize(e){return J.resolve(this.size)}}class hR extends iR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.si=new Dr((i=>rm(i)),sm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new fm,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,i){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new oR,this.referenceDelegate=e(this),this.Pi=new fR(this),this.indexManager=new $2,this.remoteDocumentCache=(function(o){return new cR(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new K2(i),this.Ii=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new uR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new dR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class dR extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class dm{constructor(e){this.persistence=e,this.Ri=new fm,this.Vi=null}static mi(e){return new dm(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(s=>{const o=dt.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class xc{constructor(e,i){this.persistence=e,this.pi=new Dr((s=>Gb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nR(this,i)}static mi(e,i){return new xc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=pc(e.data.value)),i}br(e,i,s){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new mm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oS()?8:kb(sS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(bs()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(bs()<=Ut.DEBUG&&ot("QueryEngine","Query:",Rs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bs()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):J.resolve())}ys(e,i){if(F_(i))return J.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ld(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Mt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,Ld(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,s,o){return F_(i)||o.isEqual(_t.min())?J.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?J.resolve(null):(bs()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rs(i)),this.vs(e,d,i,Ub(o,go)).next((g=>g)))}))}Ds(e,i){let s=new Me(wE(e));return i.forEach(((o,c)=>{Fc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return bs()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Rs(i)),this.ps.getDocumentsMatchingQuery(e,i,Ua.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="LocalStore",pR=3e8;class yR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new oe(Ot),this.xs=new Dr((c=>rm(c)),sm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function _R(r,e,i,s){return new yR(r,e,i,s)}async function ZE(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let _=Mt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(s,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function vR(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,E){const S=p.batch,V=S.keys();let P=J.resolve();return V.forEach((W=>{P=P.next((()=>E.getEntry(_,W))).next((tt=>{const F=p.docVersions.get(W);Ht(F!==null,48541),tt.version.compareTo(F)<0&&(S.applyToRemoteDocument(tt,p),tt.isValidDocument()&&(tt.setReadTime(p.commitVersion),E.addEntry(tt)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let _=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function JE(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ER(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const V=o.get(S);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let P=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(tt,F,et){return tt.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=pR?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(V,P,E)&&g.push(i.Pi.updateTargetData(c,P))}));let _=Ji(),p=Mt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(TR(c,d,e.documentUpdates).next((E=>{_=E.ks,p=E.qs}))),!s.isEqual(_t.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(E)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function TR(r,e,i){let s=Mt(),o=Mt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Ji();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ot(gm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function AR(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=nm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SR(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Oa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Pd(r,e,i){const s=Et(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Fs(d))throw d;ot(gm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function av(r,e,i){const s=Et(r);let o=_t.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,E){const S=Et(_),V=S.xs.get(E);return V!==void 0?J.resolve(S.Ms.get(V)):S.Pi.getTargetData(p,E)})(s,d,yi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?c:Mt()))).next((g=>(bR(s,u2(e),g),{documents:g,Qs:c})))))}function bR(r,e,i){let s=r.Os.get(e)||_t.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class rv{constructor(){this.activeTargetIds=g2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RR{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function qd(){return cc===null?cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=qd(),g=this.zo(e,i.toUriEncodedString());ot(md,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:p}=new URL(g),E=Jd(p);return this.Jo(e,g,_,s,E).then((S=>(ot(md,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ms(md,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=wR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class IR extends DR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=qd();return new Promise(((g,_)=>{const p=new tE;p.setWithCredentials(!0),p.listenOnce(eE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gc.NO_ERROR:const S=p.getResponseJson();ot(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case gc.TIMEOUT:ot(Ke,`RPC '${e}' ${d} timed out`),_(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const V=p.getStatus();if(ot(Ke,`RPC '${e}' ${d} failed with status:`,V,"response text:",p.getResponseText()),V>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const W=P?.error;if(W&&W.status&&W.message){const tt=(function(et){const nt=et.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(nt)>=0?nt:Z.UNKNOWN})(W.status);_(new lt(tt,W.message))}else _(new lt(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ot(Ke,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);ot(Ke,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)}))}T_(e,i,s){const o=qd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=aE(),g=iE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const E=c.join("");ot(Ke,`Creating RPC '${e}' stream ${o}: ${E}`,_);const S=d.createWebChannel(E,_);this.I_(S);let V=!1,P=!1;const W=new VR({Yo:F=>{P?ot(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(V||(ot(Ke,`Opening RPC '${e}' stream ${o} transport.`),S.open(),V=!0),ot(Ke,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Zo:()=>S.close()}),tt=(F,et,nt)=>{F.listen(et,(st=>{try{nt(st)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return tt(S,no.EventType.OPEN,(()=>{P||(ot(Ke,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),tt(S,no.EventType.CLOSE,(()=>{P||(P=!0,ot(Ke,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),tt(S,no.EventType.ERROR,(F=>{P||(P=!0,Ms(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),W.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),tt(S,no.EventType.MESSAGE,(F=>{if(!P){const et=F.data[0];Ht(!!et,16349);const nt=et,st=nt?.error||nt[0]?.error;if(st){ot(Ke,`RPC '${e}' stream ${o} received error:`,st);const Rt=st.status;let wt=(function(b){const R=Re[b];if(R!==void 0)return jE(R)})(Rt),Ct=st.message;wt===void 0&&(wt=Z.INTERNAL,Ct="Unknown error status: "+Rt+" with message "+st.message),P=!0,W.a_(new lt(wt,Ct)),S.close()}else ot(Ke,`RPC '${e}' stream ${o} received:`,et),W.u_(et)}})),tt(g,nE.STAT_EVENT,(F=>{F.stat===Dd.PROXY?ot(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Dd.NOPROXY&&ot(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){return new x2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class t0{constructor(e,i,s,o,c,d,g,_){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NR extends t0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=U2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?_i(d.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=jd(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Md(_)?{documents:P2(c,_)}:{query:q2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kE(c,d.resumeToken);const p=zd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Mc(c,d.snapshotVersion.toTimestamp());const p=zd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=H2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.q_(i)}}class OR extends t0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=j2(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=jd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>B2(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{}class xR extends MR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Ud(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Ud(i,s),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class LR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="RemoteStore";class zR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ir(this)&&(ot(Rr,"Restarting streams for network reachability change."),await(async function(_){const p=Et(_);p.Ea.add(4),await Do(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $c(p)})(this))}))})),this.Ra=new LR(s,o)}}async function $c(r){if(Ir(r))for(const e of r.da)await e(!0)}async function Do(r){for(const e of r.da)await e(!1)}function e0(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vm(i)?_m(i):Qs(i).O_()&&ym(i,e))}function pm(r,e){const i=Et(r),s=Qs(i);i.Ia.delete(e),s.O_()&&n0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ir(i)&&i.Ra.set("Unknown"))}function ym(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qs(r).Y_(e)}function n0(r,e){r.Va.Ue(e),Qs(r).Z_(e)}function _m(r){r.Va=new I2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Qs(r).start(),r.Ra.ua()}function vm(r){return Ir(r)&&!Qs(r).x_()&&r.Ia.size>0}function Ir(r){return Et(r).Ea.size===0}function i0(r){r.Va=void 0}async function UR(r){r.Ra.set("Online")}async function BR(r){r.Ia.forEach(((e,i)=>{ym(r,e)}))}async function jR(r,e){i0(r),vm(r)?(r.Ra.ha(e),_m(r)):r.Ra.set("Unknown")}async function PR(r,e,i){if(r.Ra.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ot(Rr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lc(r,s)}else if(e instanceof vc?r.Va.Ze(e):e instanceof PE?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const s=await JE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),n0(c,_);const S=new Oa(E.target,_,p,E.sequenceNumber);ym(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ot(Rr,"Failed to raise snapshot:",s),await Lc(r,s)}}async function Lc(r,e,i){if(!Fs(e))throw e;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Rr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await $c(r)}))}function a0(r,e){return e().catch((i=>Lc(r,i,e)))}async function Zc(r){const e=Et(r),i=qa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:nm;for(;qR(e);)try{const o=await AR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,kR(e,o)}catch(o){await Lc(e,o)}r0(e)&&s0(e)}function qR(r){return Ir(r)&&r.Ta.length<10}function kR(r,e){r.Ta.push(e);const i=qa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function r0(r){return Ir(r)&&!qa(r).x_()&&r.Ta.length>0}function s0(r){qa(r).start()}async function HR(r){qa(r).ra()}async function GR(r){const e=qa(r);for(const i of r.Ta)e.ea(i.mutations)}async function FR(r,e,i){const s=r.Ta.shift(),o=um.from(s,e,i);await a0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Zc(r)}async function QR(r,e){e&&qa(r).X_&&await(async function(s,o){if((function(d){return w2(d)&&d!==Z.ABORTED})(o.code)){const c=s.Ta.shift();qa(s).B_(),await a0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Zc(s)}})(r,e),r0(r)&&s0(r)}async function uv(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),ot(Rr,"RemoteStore received new credentials");const s=Ir(i);i.Ea.add(3),await Do(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await $c(i)}async function YR(r,e){const i=Et(r);e?(i.Ea.delete(2),await $c(i)):e||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function Qs(r){return r.ma||(r.ma=(function(i,s,o){const c=Et(i);return c.sa(),new NR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:UR.bind(null,r),t_:BR.bind(null,r),r_:jR.bind(null,r),H_:PR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),vm(r)?_m(r):r.Ra.set("Unknown")):(await r.ma.stop(),i0(r))}))),r.ma}function qa(r){return r.fa||(r.fa=(function(i,s,o){const c=Et(i);return c.sa(),new OR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HR.bind(null,r),r_:QR.bind(null,r),ta:GR.bind(null,r),na:FR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Zc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Rr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Em(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),Fs(r))return new lt(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Is;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ga=new oe(dt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class js{constructor(e,i,s,o,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new js(e,i,Is.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XR{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),c=o.queries;o.queries=hv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(s)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function hv(){return new Dr((r=>CE(r)),Gc)}async function l0(r,e){const i=Et(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new KR,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Tm(d,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Am(i)}async function o0(r,e){const i=Et(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function $R(r,e){const i=Et(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Am(i)}function ZR(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Am(r){r.Ca.forEach((e=>{e.next()}))}var kd,fv;(fv=kd||(kd={})).Ma="default",fv.Cache="cache";class u0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new js(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.key=e}}class h0{constructor(e){this.key=e}}class JR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=wE(e),this.tu=new Is(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new cv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const V=o.get(E),P=Fc(this.query,S)?S:null,W=!!V&&this.mutatedKeys.has(V.key),tt=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;V&&P?V.data.isEqual(P.data)?W!==tt&&(s.track({type:3,doc:P}),F=!0):this.su(V,P)||(s.track({type:2,doc:P}),F=!0,(_&&this.eu(P,_)>0||p&&this.eu(P,p)<0)&&(g=!0)):!V&&P?(s.track({type:0,doc:P}),F=!0):V&&!P&&(s.track({type:1,doc:V}),F=!0,(_||p)&&(g=!0)),F&&(P?(d=d.add(P),c=tt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(P,W){const tt=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:F})}};return tt(P)-tt(W)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new js(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new h0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new c0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sm="SyncEngine";class WR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class tC{constructor(e){this.key=e,this.hu=!1}}class eC{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Dr((g=>CE(g)),Gc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(dt.comparator),this.Au=new Map,this.Ru=new fm,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nC(r,e,i=!0){const s=y0(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await f0(s,e,i,!0),o}async function iC(r,e){const i=y0(r);await f0(i,e,!0,!1)}async function f0(r,e,i,s){const o=await SR(r.localStore,yi(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await aC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&e0(r.remoteStore,o),g}async function aC(r,e,i,s,o){r.pu=(S,V,P)=>(async function(tt,F,et,nt){let st=F.view.ru(et);st.Cs&&(st=await av(tt.localStore,F.query,!1).then((({documents:D})=>F.view.ru(D,st))));const Rt=nt&&nt.targetChanges.get(F.targetId),wt=nt&&nt.targetMismatches.get(F.targetId)!=null,Ct=F.view.applyChanges(st,tt.isPrimaryClient,Rt,wt);return mv(tt,F.targetId,Ct.au),Ct.snapshot})(r,S,V,P);const c=await av(r.localStore,e,!0),d=new JR(e,c.Qs),g=d.ru(c.documents),_=wo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,_);mv(r,i,p.au);const E=new WR(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function rC(r,e,i){const s=Et(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!Gc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&pm(s.remoteStore,o.targetId),Hd(s,o.targetId)})).catch(Gs)):(Hd(s,o.targetId),await Pd(s.localStore,o.targetId,!0))}async function sC(r,e){const i=Et(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),pm(i.remoteStore,s.targetId))}async function lC(r,e,i){const s=mC(r);try{const o=await(function(d,g){const _=Et(d),p=te.now(),E=g.reduce(((P,W)=>P.add(W.key)),Mt());let S,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let W=Ji(),tt=Mt();return _.Ns.getEntries(P,E).next((F=>{W=F,W.forEach(((et,nt)=>{nt.isValidDocument()||(tt=tt.add(et))}))})).next((()=>_.localDocuments.getOverlayedDocuments(P,W))).next((F=>{S=F;const et=[];for(const nt of g){const st=A2(nt,S.get(nt.key).overlayedDocument);st!=null&&et.push(new Vr(nt.key,st,_E(st.value.mapValue),Ki.exists(!0)))}return _.mutationQueue.addMutationBatch(P,p,et,g)})).next((F=>{V=F;const et=F.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(P,F.batchId,et)}))})).then((()=>({batchId:V.batchId,changes:VE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new oe(Ot)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(s,o.batchId,i),await Vo(s,o.changes),await Zc(s.remoteStore)}catch(o){const c=Tm(o,"Failed to persist write");i.reject(c)}}async function d0(r,e){const i=Et(r);try{const s=await ER(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Vo(i,s,e)}catch(s){await Gs(s)}}function dv(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Et(d);_.onlineState=g;let p=!1;_.queries.forEach(((E,S)=>{for(const V of S.Sa)V.va(g)&&(p=!0)})),p&&Am(_)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oC(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new oe(dt.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const g=Mt().add(c),_=new Kc(_t.min(),new Map,new oe(Ot),d,g);await d0(s,_),s.du=s.du.remove(c),s.Au.delete(e),bm(s)}else await Pd(s.localStore,e,!1).then((()=>Hd(s,e,i))).catch(Gs)}async function uC(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await vR(i.localStore,e);g0(i,s,null),m0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Vo(i,o)}catch(o){await Gs(o)}}async function cC(r,e,i){const s=Et(r);try{const o=await(function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return _.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ht(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>_.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);g0(s,e,i),m0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Vo(s,o)}catch(o){await Gs(o)}}function m0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function g0(r,e,i){const s=Et(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||p0(r,s)}))}function p0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(pm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),bm(r))}function mv(r,e,i){for(const s of i)s instanceof c0?(r.Ru.addReference(s.key,e),hC(r,s)):s instanceof h0?(ot(Sm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||p0(r,s.key)):pt(19791,{wu:s})}function hC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ot(Sm,"New document in limbo: "+i),r.Eu.add(s),bm(r))}function bm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(Wt.fromString(e)),s=r.fu.next();r.Au.set(s,new tC(i)),r.du=r.du.insert(i,s),e0(r.remoteStore,new Oa(yi(lm(i.path)),s,"TargetPurposeLimboResolution",qc.ce))}}async function Vo(r,e,i){const s=Et(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,_)=>{d.push(s.pu(_,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(p){o.push(p);const E=mm.As(_.targetId,p);c.push(E)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(_,p){const E=Et(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(p,(V=>J.forEach(V.Es,(P=>E.persistence.referenceDelegate.addReference(S,V.targetId,P))).next((()=>J.forEach(V.ds,(P=>E.persistence.referenceDelegate.removeReference(S,V.targetId,P)))))))))}catch(S){if(!Fs(S))throw S;ot(gm,"Failed to update sequence numbers: "+S)}for(const S of p){const V=S.targetId;if(!S.fromCache){const P=E.Ms.get(V),W=P.snapshotVersion,tt=P.withLastLimboFreeSnapshotVersion(W);E.Ms=E.Ms.insert(V,tt)}}})(s.localStore,c))}async function fC(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){ot(Sm,"User change. New user:",e.toKey());const s=await ZE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vo(i,s.Ls)}}function dC(r,e){const i=Et(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let o=Mt();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function y0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=d0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oC.bind(null,e),e.Pu.H_=$R.bind(null,e.eventManager),e.Pu.yu=ZR.bind(null,e.eventManager),e}function mC(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return _R(this.persistence,new gR,e.initialUser,this.serializer)}Cu(e){return new $E(dm.mi,this.serializer)}Du(e){return new RR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class gC extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new $E((s=>xc.mi(s,i)),this.serializer)}}class Gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,this.syncEngine),await YR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XR})()}createDatastore(e){const i=Xc(e.databaseInfo.databaseId),s=(function(c){return new IR(c)})(e.databaseInfo);return(function(c,d,g,_){return new xR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,d,g){return new zR(s,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return lv.v()?new lv:new CR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,p,E){const S=new eC(o,c,d,g,_,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);ot(Rr,"RemoteStore shutting down."),s.Ea.add(5),await Do(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class pC{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ot(ka,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(ka,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Tm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function pd(r,e){r.asyncQueue.verifyOperationInProgress(),ot(ka,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ZE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function gv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await yC(r);ot(ka,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>uv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>uv(e.remoteStore,o))),r._onlineComponents=e}async function yC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ka,"Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ms("Error using user provided cache. Falling back to memory cache: "+i),await pd(r,new zc)}}else ot(ka,"Using default OfflineComponentProvider"),await pd(r,new gC(void 0));return r._offlineComponents}async function v0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ka,"Using user provided OnlineComponentProvider"),await gv(r,r._uninitializedComponentsProvider._online)):(ot(ka,"Using default OnlineComponentProvider"),await gv(r,new Gd))),r._onlineComponents}function _C(r){return v0(r).then((e=>e.syncEngine))}async function E0(r){const e=await v0(r),i=e.eventManager;return i.onListen=nC.bind(null,e.syncEngine),i.onUnlisten=rC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=iC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=sC.bind(null,e.syncEngine),i}function vC(r,e,i={}){const s=new Yi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const E=new _0({next:V=>{E.Nu(),d.enqueueAndForget((()=>o0(c,S)));const P=V.docs.has(g);!P&&V.fromCache?p.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&V.fromCache&&_&&_.source==="server"?p.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new u0(lm(g.path),E,{includeMetadataChanges:!0,qa:!0});return l0(c,S)})(await E0(r),r.asyncQueue,e,i,s))),s.promise}function EC(r,e,i={}){const s=new Yi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,p){const E=new _0({next:V=>{E.Nu(),d.enqueueAndForget((()=>o0(c,S))),V.fromCache&&_.source==="server"?p.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new u0(g,E,{includeMetadataChanges:!0,qa:!0});return l0(c,S)})(await E0(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",yv=!0;class _v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=yv}else this.host=e.host,this.ssl=e.ssl??yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J2)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Cb;switch(s.type){case"firstParty":return new Ib(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=pv.get(i);s&&(ot("ComponentProvider","Removing Datastore"),pv.delete(i),s.terminate())})(this),Promise.resolve()}}function TC(r,e,i,s={}){r=Ls(r,Jc);const o=Jd(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(eS(`https://${g}`),rS("Firestore",!0)),c.host!==A0&&c.host!==g&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:s};if(!Sc(_,d)&&(r._setSettings(_),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Xe.MOCK_USER;else{p=nS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(S)}r._authCredentials=new wb(new sE(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Oe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(bo(i,Oe._jsonSchema))return new Oe(e,s||null,new dt(Wt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class za extends Ys{constructor(e,i,s){super(e,i,lm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new dt(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function S0(r,e,...i){if(r=Os(r),lE("collection","path",e),r instanceof Jc){const s=Wt.fromString(e,...i);return N_(s),new za(r,null,s)}{if(!(r instanceof Oe||r instanceof za))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return N_(s),new za(r.firestore,null,s)}}function b0(r,e,...i){if(r=Os(r),arguments.length===1&&(e=em.newId()),lE("doc","path",e),r instanceof Jc){const s=Wt.fromString(e,...i);return I_(s),new Oe(r,null,new dt(s))}{if(!(r instanceof Oe||r instanceof za))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return I_(s),new Oe(r.firestore,r instanceof za?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const s=gd();s&&ot(vv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fs(e))throw e;ot(vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Tv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Em.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Tv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Wc extends Jc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Ev,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function AC(r,e){const i=typeof r=="object"?r:gb(),s=typeof r=="string"?r:wc,o=cb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=WA("firestore");c&&TC(o,...c)}return o}function Rm(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SC(r),r._firestoreClient}function SC(r){const e=r._freezeSettings(),i=(function(o,c,d,g){return new Yb(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,T0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new pC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Qe.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bo(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:we("string",Mn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(bo(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bo(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:we("string",Ei._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^__.*__$/;class RC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Co(e,this.data,i,this.fieldTransforms)}}function C0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class wm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C0(this.Ac)&&bC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Xc(e)}Cc(e,i,s,o=!1){return new wm({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w0(r){const e=r._freezeSettings(),i=Xc(r._databaseId);return new CC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function wC(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);I0("Data must be an object, but it was:",d,s);const g=D0(s,d);let _,p;if(c.merge)_=new Qn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const V=VC(e,S,i);if(!d.contains(V))throw new lt(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);NC(E,V)||E.push(V)}_=new Qn(E),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new RC(new On(g),_,p)}function DC(r,e,i,s=!1){return Dm(i,r.Cc(s?4:3,e))}function Dm(r,e){if(V0(r=Os(r)))return I0("Unsupported field value:",e,r),D0(r,e);if(r instanceof R0)return(function(s,o){if(!C0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const g of s){let _=Dm(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=Os(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return p2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Mc(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mc(o.serializer,c)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:kE(o.serializer,s._byteString)};if(s instanceof Oe){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,g){return{mapValue:{fields:{[pE]:{stringValue:yE},[Dc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return om(g.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Pc(s)}`)})(r,e)}function D0(r,e){const i={};return cE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(r,((s,o)=>{const c=Dm(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function V0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof vi||r instanceof Mn||r instanceof Oe||r instanceof R0||r instanceof Ei)}function I0(r,e,i){if(!V0(i)||!oE(i)){const s=Pc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function VC(r,e,i){if((e=Os(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return N0(r,e);throw Uc("Field path arguments must be of type string or ",r,!1,void 0,i)}const IC=new RegExp("[~\\*/\\[\\]]");function N0(r,e,i){if(e.search(IC)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Cm(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Uc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new lt(Z.INVALID_ARGUMENT,g+r+_)}function NC(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OC extends O0{data(){return super.data()}}function Vm(r,e){return typeof e=="string"?N0(r,e):e instanceof Cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class xC extends Im{}function LC(r,e,...i){let s=[];e instanceof Im&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof Nm)).length,g=c.filter((_=>_ instanceof th)).length;if(d>1||d>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class th extends xC{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new th(e,i,s)}_apply(e){const i=this._parse(e);return M0(e._query,i),new Ys(e.firestore,e.converter,xd(e._query,i))}_parse(e){const i=w0(e.firestore);return(function(c,d,g,_,p,E,S){let V;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Sv(S,E);const W=[];for(const tt of S)W.push(Av(_,c,tt));V={arrayValue:{values:W}}}else V=Av(_,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Sv(S,E),V=DC(g,d,S,E==="in"||E==="not-in");return Ce.create(p,E,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function zC(r,e,i){const s=e,o=Vm("where",r);return th._create(o,s,i)}class Nm extends Im{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Nm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)M0(d,_),d=xd(d,_)})(e._query,i),new Ys(e.firestore,e.converter,xd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Av(r,e,i){if(typeof(i=Os(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j_(r,new dt(s))}if(i instanceof Oe)return j_(r,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(i)}.`)}function Sv(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M0(r,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class UC{convertValue(e,i="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return wr(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Dc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(po(e));default:return null}}convertTimestamp(e){const i=Ba(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Ht(KE(s),9688,{name:e});const o=new yo(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return o.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ar extends O0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Vm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ar._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ar._jsonSchema={type:we("string",Ar._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Ec extends Ar{data(e={}){return super.data(e)}}class Ns{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ec(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ro(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:jC(g.type),doc:_,oldIndex:p,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ns._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){r=Ls(r,Oe);const e=Ls(r.firestore,Wc);return vC(Rm(e),r._key).then((i=>GC(e,r,i)))}Ns._jsonSchemaVersion="firestore/querySnapshot/1.0",Ns._jsonSchema={type:we("string",Ns._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class x0 extends UC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function qC(r){r=Ls(r,Ys);const e=Ls(r.firestore,Wc),i=Rm(e),s=new x0(e);return MC(r._query),EC(i,r._query).then((o=>new Ns(e,s,r,o)))}function kC(r,e){const i=Ls(r.firestore,Wc),s=b0(r),o=BC(r.converter,e);return HC(i,[wC(w0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ki.exists(!1))]).then((()=>s))}function HC(r,e){return(function(s,o){const c=new Yi;return s.asyncQueue.enqueueAndForget((async()=>lC(await _C(s),o,c))),c.promise})(Rm(r),e)}function GC(r,e,i){const s=i.docs.get(e._key),o=new x0(r);return new Ar(r,o,e._key,s,new ro(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Hs=o})(mb),Rc(new fo("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Wc(new Db(s.getProvider("auth-internal")),new Nb(d,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(p.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Vs(C_,w_,e),Vs(C_,w_,"esm2020")})();var FC="firebase",QC="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(FC,QC,"app");const YC={apiKey:"AIzaSyBqyf8oXBdctL8e8nw0mWjzA9lBWj5298A",authDomain:"ecommerce-project-kalma.firebaseapp.com",projectId:"ecommerce-project-kalma",storageBucket:"ecommerce-project-kalma.firebasestorage.app",messagingSenderId:"325205293774",appId:"1:325205293774:web:c10e27c2391e4a75ec2e9f"},KC=$v(YC),Om=AC(KC),XC="_grid_jhv8h_1",$C="_card_jhv8h_21",ZC="_image_jhv8h_57",JC="_title_jhv8h_71",WC="_price_jhv8h_89",tw="_btn_jhv8h_105",Ts={grid:XC,card:$C,image:ZC,title:JC,price:WC,btn:tw};function ew({items:r}){return H.jsx("div",{className:Ts.grid,children:r.map(e=>H.jsxs("div",{className:Ts.card,children:[H.jsx("img",{src:e.image||"https://via.placeholder.com/300?text=Sin+Imagen",alt:e.title,className:Ts.image,loading:"lazy"}),H.jsx("h3",{className:Ts.title,children:e.title}),H.jsxs("p",{className:Ts.price,children:["$",e.price.toFixed(2)]}),H.jsx(Sr,{to:`/item/${e.id}`,className:Ts.btn,children:"Ver detalles"})]},e.id))})}const nw="_container_7u2ir_1",iw="_greeting_7u2ir_17",aw="_loading_7u2ir_45",yd={container:nw,greeting:iw,loading:aw};function bv({greeting:r}){const[e,i]=G.useState([]),[s,o]=G.useState(!0),{categoryId:c}=Lv();return G.useEffect(()=>{const d=async()=>{try{o(!0);const g=S0(Om,"items"),_=c?LC(g,zC("category","==",c)):g,E=(await qC(_)).docs.map(S=>({id:S.id,...S.data()}));i(E)}catch(g){console.error("Error cargando productos:",g)}finally{o(!1)}};console.log("Consultando categorÃ­a:",c),d()},[c]),s?H.jsx("p",{className:yd.loading,children:"Cargando productos..."}):(console.log("categoryId URL:",c),H.jsxs("div",{className:yd.container,children:[H.jsx("h2",{className:yd.greeting,children:r}),H.jsx(ew,{items:e})]}))}const Ks=G.createContext(),rw=({children:r})=>{const[e,i]=G.useState([]),s=p=>e.some(E=>E.id===p),o=(p,E)=>{s(p.id)?i(S=>S.map(V=>V.id===p.id?{...V,quantity:V.quantity+E}:V)):i(S=>[...S,{...p,quantity:E}])},c=p=>{i(E=>E.filter(S=>S.id!==p))},d=()=>{i([])},g=()=>e.reduce((p,E)=>p+E.quantity,0),_=()=>e.reduce((p,E)=>p+E.price*E.quantity,0);return H.jsx(Ks.Provider,{value:{cart:e,addToCart:o,removeItem:c,clearCart:d,totalQuantity:g,totalPrice:_},children:r})},sw="_counter_1fp84_1",lw="_controls_1fp84_19",ow="_controlBtn_1fp84_31",uw="_qty_1fp84_73",cw="_add_1fp84_87",As={counter:sw,controls:lw,controlBtn:ow,qty:uw,add:cw};function hw({stock:r,initial:e,onAdd:i}){const[s,o]=G.useState(e),c=()=>s<r&&o(s+1),d=()=>s>1&&o(s-1);return H.jsxs("div",{className:As.counter,children:[H.jsxs("div",{className:As.controls,children:[H.jsx("button",{onClick:d,className:As.controlBtn,disabled:s<=1,children:"âˆ’"}),H.jsx("span",{className:As.qty,children:s}),H.jsx("button",{onClick:c,className:As.controlBtn,disabled:s>=r,children:"+"})]}),H.jsx("button",{className:As.add,disabled:r===0,onClick:()=>i(s),children:"Agregar al carrito"})]})}const fw="_detailContainer_1kclw_1",dw="_image_1kclw_25",mw="_info_1kclw_45",gw="_description_1kclw_81",pw="_price_1kclw_93",yw="_goToCart_1kclw_105",Ss={detailContainer:fw,image:dw,info:mw,description:gw,price:pw,goToCart:yw};function _w({item:r}){if(!r)return H.jsx("p",{children:"Cargando producto..."});const{addToCart:e}=G.useContext(Ks),[i,s]=G.useState(!1),o=c=>{e(r,c),s(!0)};return H.jsxs("div",{className:Ss.detailContainer,children:[H.jsx("img",{src:r.image,alt:r.title,className:Ss.image}),H.jsxs("div",{className:Ss.info,children:[H.jsx("h2",{children:r.title}),H.jsx("p",{className:Ss.description,children:r.description}),H.jsxs("p",{className:Ss.price,children:["$",r.price]}),i?H.jsx(Sr,{to:"/cart",className:Ss.goToCart,children:"Ir al carrito"}):H.jsx(hw,{stock:10,initial:1,onAdd:o})]})]})}const vw="_container_1v58w_1",Ew="_loading_1v58w_15",Tw="_error_1v58w_29",_d={container:vw,loading:Ew,error:Tw};function Aw(){const{itemId:r}=Lv(),[e,i]=G.useState(null),[s,o]=G.useState(!0);return G.useEffect(()=>{(async()=>{try{o(!0);const d=b0(Om,"items",r),g=await PC(d);i({id:g.id,...g.data()})}catch(d){console.error("Error cargando producto:",d)}finally{o(!1)}})()},[r]),s?H.jsx("p",{className:_d.loading,children:"Cargando producto..."}):e?H.jsx("div",{className:_d.container,children:H.jsx(_w,{item:e})}):H.jsx("p",{className:_d.error,children:"No se encontrÃ³ el producto."})}const Sw="_cartWidget_7c9z6_1",bw="_cartIcon_7c9z6_15",Rw="_cartCount_7c9z6_23",vd={cartWidget:Sw,cartIcon:bw,cartCount:Rw},Cw=()=>{const{totalQuantity:r}=G.useContext(Ks);return H.jsxs(Ds,{to:"/cart",className:vd.cartWidget,children:[H.jsx("span",{className:vd.cartIcon,children:"ðŸ›’"}),r()>0&&H.jsx("span",{className:vd.cartCount,children:r()})]})},ww="_navbar_15neg_1",Dw={navbar:ww},Vw="_logo_16yjs_1",Iw={logo:Vw},Nw=()=>H.jsx("h1",{className:Iw.logo,children:"Mi Tienda"}),Ow="_menu_1n5e4_1",Mw="_dropdown_1n5e4_41",xw="_dropdownMenu_1n5e4_49",Ed={menu:Ow,dropdown:Mw,dropdownMenu:xw},Lw=()=>{const r=["ropa","calzado","accesorios"];return H.jsxs("ul",{className:Ed.menu,children:[H.jsx("li",{children:H.jsx(Ds,{to:"/",children:"Inicio"})}),H.jsx("li",{children:H.jsx(Ds,{to:"/products",children:"Todos Nuestros Productos"})}),H.jsxs("li",{className:Ed.dropdown,children:[H.jsx("span",{children:"CategorÃ­as â–¾"}),H.jsx("ul",{className:Ed.dropdownMenu,children:r.map(e=>H.jsx("li",{children:H.jsx(Ds,{to:`/category/${e}`,children:e.charAt(0).toUpperCase()+e.slice(1)})},e))})]}),H.jsx("li",{children:H.jsx(Ds,{to:"/contact",children:"Contacto"})})]})},zw=()=>H.jsxs("nav",{className:Dw.navbar,children:[H.jsx(Nw,{}),H.jsx(Lw,{}),H.jsx(Cw,{})]}),Uw="_pageContainer_5dvsi_1",Bw="_title_5dvsi_21",jw="_subtitle_5dvsi_35",Pw="_contactForm_5dvsi_49",qw="_input_5dvsi_65",kw="_textarea_5dvsi_67",Hw="_btn_5dvsi_107",tn={pageContainer:Uw,title:Bw,subtitle:jw,contactForm:Pw,input:qw,textarea:kw,btn:Hw};function Gw(){return H.jsxs("div",{className:tn.pageContainer,children:[H.jsx("h1",{className:tn.title,children:"Bienvenido a Mi Tienda"}),H.jsx("p",{className:tn.subtitle,children:"DescubrÃ­ nuestros productos destacados y las mejores ofertas."})]})}function Fw(){return H.jsxs("div",{className:tn.pageContainer,children:[H.jsx("h1",{className:tn.title,children:"Contacto"}),H.jsx("p",{className:tn.subtitle,children:"Si tenÃ©s dudas o consultas, podÃ©s escribirnos y te responderemos a la brevedad."}),H.jsxs("form",{className:tn.contactForm,children:[H.jsx("input",{type:"text",placeholder:"Tu nombre",className:tn.input,required:!0}),H.jsx("input",{type:"email",placeholder:"Tu correo electrÃ³nico",className:tn.input,required:!0}),H.jsx("textarea",{placeholder:"Tu mensaje",className:tn.textarea,required:!0}),H.jsx("button",{type:"submit",className:tn.btn,children:"Enviar mensaje"})]})]})}function Qw(){return H.jsxs("div",{className:tn.pageContainer,children:[H.jsx("h1",{className:tn.title,children:"404"}),H.jsx("p",{className:tn.subtitle,children:"La pÃ¡gina que estÃ¡s buscando no existe o fue movida."}),H.jsx(Sr,{to:"/",className:tn.btn,children:"Volver al inicio"})]})}const Yw="_item_1xzc1_1",Kw="_img_1xzc1_21",Xw="_info_1xzc1_31",$w="_deleteBtn_1xzc1_39",hc={item:Yw,img:Kw,info:Xw,deleteBtn:$w};function Zw({item:r}){const{removeItem:e}=G.useContext(Ks);return H.jsxs("div",{className:hc.item,children:[H.jsx("img",{src:r.image,alt:r.title,className:hc.img}),H.jsxs("div",{className:hc.info,children:[H.jsx("h3",{children:r.title}),H.jsxs("p",{children:["Cantidad: ",r.quantity]}),H.jsxs("p",{children:["Precio unitario: $",r.price]}),H.jsxs("p",{children:["Subtotal: $",r.price*r.quantity]})]}),H.jsx("button",{className:hc.deleteBtn,onClick:()=>e(r.id),children:"âŒ"})]})}const Jw="_cartContainer_4olhj_1",Ww="_title_4olhj_13",tD="_items_4olhj_25",eD="_summary_4olhj_37",nD="_buttons_4olhj_53",iD="_clearBtn_4olhj_67",aD="_checkoutBtn_4olhj_93",rD="_empty_4olhj_119",sD="_btn_4olhj_139",Gi={cartContainer:Jw,title:Ww,items:tD,summary:eD,buttons:nD,clearBtn:iD,checkoutBtn:aD,empty:rD,btn:sD};function lD(){const{cart:r,clearCart:e,totalPrice:i}=G.useContext(Ks);return r.length===0?H.jsxs("div",{className:Gi.empty,children:[H.jsx("h2",{children:"Tu carrito estÃ¡ vacÃ­o"}),H.jsx(Sr,{to:"/products",className:Gi.btn,children:"Ir al catÃ¡logo"})]}):H.jsxs("div",{className:Gi.cartContainer,children:[H.jsx("h1",{className:Gi.title,children:"Tu carrito"}),H.jsx("div",{className:Gi.items,children:r.map(s=>H.jsx(Zw,{item:s},s.id))}),H.jsxs("div",{className:Gi.summary,children:[H.jsxs("h3",{children:["Total: $",i()]}),H.jsxs("div",{className:Gi.buttons,children:[H.jsx("button",{className:Gi.clearBtn,onClick:e,children:"Vaciar carrito"}),H.jsx(Sr,{to:"/checkout",className:Gi.checkoutBtn,children:"Finalizar compra"})]})]})]})}const oD="_form_iw5ai_1",uD="_button_iw5ai_37",Rv={form:oD,button:uD};function cD({onConfirm:r}){const[e,i]=G.useState({name:"",email:"",emailConfirm:"",phone:""}),s=c=>{i({...e,[c.target.name]:c.target.value})},o=c=>{if(c.preventDefault(),e.name.length<3)return alert("El nombre debe tener al menos 3 caracteres.");if(!e.email.includes("@"))return alert("El email debe ser vÃ¡lido.");if(e.email!==e.emailConfirm)return alert("Los emails no coinciden.");if(e.phone.length<8)return alert("ingrese un nÃºmero de telÃ©fono vÃ¡lido.");r({name:e.name,email:e.email,phone:e.phone})};return H.jsxs("form",{className:Rv.form,onSubmit:o,children:[H.jsx("h2",{children:"Ingresa tus datos"}),H.jsxs("label",{children:["Nombre completo:",H.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,required:!0})]}),H.jsxs("label",{children:["Email:",H.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,required:!0})]}),H.jsxs("label",{children:["Confirmar Email:",H.jsx("input",{type:"email",name:"emailConfirm",value:e.emailConfirm,onChange:s,required:!0})]}),H.jsxs("label",{children:["TelÃ©fono:",H.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:s,required:!0})]}),H.jsx("button",{type:"submit",className:Rv.button,children:"Finalizar compra"})]})}const hD="_container_wu2yf_3",fD="_loading_wu2yf_39",dD="_succes_wu2yf_55",mD="_empty_wu2yf_109",fc={container:hD,loading:fD,succes:dD,empty:mD};function gD(){const{cart:r,totalPrice:e,clearCart:i}=G.useContext(Ks),[s,o]=G.useState(""),[c,d]=G.useState(!1),g=async _=>{d(!0);try{const p={buyer:_,items:r,total:e(),date:te.fromDate(new Date)},E=S0(Om,"orders"),S=await kC(E,p);o(S.id),i()}catch(p){console.error("Error al crear la orden: ",p)}finally{d(!1)}};return s?H.jsxs("div",{className:fc.succes,children:[H.jsx("h2",{children:"Â¡Compra realizada con Ã©xito! ðŸŽ‰"}),H.jsxs("p",{children:["Tu nÃºmero de orden es: ",H.jsx("strong",{children:s})]})]}):r.length===0?H.jsxs("div",{className:fc.empty,children:[H.jsx("h2",{children:"Tu carrito estÃ¡ vacÃ­o"}),H.jsx("p",{children:"Agrega productos al carrito antes de proceder al checkout."})]}):H.jsxs("div",{className:fc.container,children:[H.jsx("h1",{children:"Finalizar compra"}),c?H.jsx("p",{className:fc.loading,children:"Procesando tu orden..."}):H.jsx(cD,{onConfirm:g})]})}function pD(){return H.jsxs(H.Fragment,{children:[H.jsx(zw,{}),H.jsxs(aA,{children:[H.jsx(Fi,{path:"/",element:H.jsx(Gw,{})}),H.jsx(Fi,{path:"/products",element:H.jsx(bv,{greeting:"CatÃ¡logo de productos"})}),H.jsx(Fi,{path:"/category/:categoryId",element:H.jsx(bv,{greeting:"Filtrando por categorÃ­a"})}),H.jsx(Fi,{path:"/item/:itemId",element:H.jsx(Aw,{})}),H.jsx(Fi,{path:"/cart",element:H.jsx(lD,{})}),H.jsx(Fi,{path:"/checkout",element:H.jsx(gD,{})}),H.jsx(Fi,{path:"/contact",element:H.jsx(Fw,{})}),H.jsx(Fi,{path:"*",element:H.jsx(Qw,{})})]})]})}kA.createRoot(document.getElementById("root")).render(H.jsx(G.StrictMode,{children:H.jsx(wA,{children:H.jsx(rw,{children:H.jsx(pD,{})})})}));
